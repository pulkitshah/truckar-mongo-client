{"ast":null,"code":"import { API } from \"aws-amplify\";\nimport { ordersByUser } from \"../graphql/queries\";\nconst now = new Date();\n\nclass OrderApi {\n  async getOrdersByUser(user) {\n    const ordersDB = await API.graphql({\n      query: ordersByUser,\n      variables: {\n        user: user.id.toString()\n      }\n    });\n    return ordersDB;\n  }\n\n  async validateDuplicateVehicleNumber(vehicleNumber, user) {\n    const response = await API.graphql({\n      query: vehiclesByUser,\n      variables: {\n        user: user.id.toString()\n      }\n    });\n    const vehicles = response.data.vehiclesByUser.items;\n    const vehicle = vehicles.find(vehicle => {\n      return vehicle.vehicleNumber === vehicleNumber;\n    });\n    return Boolean(!vehicle);\n  }\n\n}\n\nexport const orderApi = new OrderApi();","map":{"version":3,"sources":["/Users/pulkitshah/Desktop/truckarv2/renderer/api/order-api.js"],"names":["API","ordersByUser","now","Date","OrderApi","getOrdersByUser","user","ordersDB","graphql","query","variables","id","toString","validateDuplicateVehicleNumber","vehicleNumber","response","vehiclesByUser","vehicles","data","items","vehicle","find","Boolean","orderApi"],"mappings":"AAAA,SAASA,GAAT,QAAoB,aAApB;AACA,SAASC,YAAT,QAA6B,oBAA7B;AAEA,MAAMC,GAAG,GAAG,IAAIC,IAAJ,EAAZ;;AAEA,MAAMC,QAAN,CAAe;AACb,QAAMC,eAAN,CAAsBC,IAAtB,EAA4B;AAC1B,UAAMC,QAAQ,GAAG,MAAMP,GAAG,CAACQ,OAAJ,CAAY;AACjCC,MAAAA,KAAK,EAAER,YAD0B;AAEjCS,MAAAA,SAAS,EAAE;AAAEJ,QAAAA,IAAI,EAAEA,IAAI,CAACK,EAAL,CAAQC,QAAR;AAAR;AAFsB,KAAZ,CAAvB;AAIA,WAAOL,QAAP;AACD;;AAED,QAAMM,8BAAN,CAAqCC,aAArC,EAAoDR,IAApD,EAA0D;AACxD,UAAMS,QAAQ,GAAG,MAAMf,GAAG,CAACQ,OAAJ,CAAY;AACjCC,MAAAA,KAAK,EAAEO,cAD0B;AAEjCN,MAAAA,SAAS,EAAE;AAAEJ,QAAAA,IAAI,EAAEA,IAAI,CAACK,EAAL,CAAQC,QAAR;AAAR;AAFsB,KAAZ,CAAvB;AAIA,UAAMK,QAAQ,GAAGF,QAAQ,CAACG,IAAT,CAAcF,cAAd,CAA6BG,KAA9C;AACA,UAAMC,OAAO,GAAGH,QAAQ,CAACI,IAAT,CAAeD,OAAD,IAAa;AACzC,aAAOA,OAAO,CAACN,aAAR,KAA0BA,aAAjC;AACD,KAFe,CAAhB;AAGA,WAAOQ,OAAO,CAAC,CAACF,OAAF,CAAd;AACD;;AAnBY;;AAsBf,OAAO,MAAMG,QAAQ,GAAG,IAAInB,QAAJ,EAAjB","sourcesContent":["import { API } from \"aws-amplify\";\nimport { ordersByUser } from \"../graphql/queries\";\n\nconst now = new Date();\n\nclass OrderApi {\n  async getOrdersByUser(user) {\n    const ordersDB = await API.graphql({\n      query: ordersByUser,\n      variables: { user: user.id.toString() },\n    });\n    return ordersDB;\n  }\n\n  async validateDuplicateVehicleNumber(vehicleNumber, user) {\n    const response = await API.graphql({\n      query: vehiclesByUser,\n      variables: { user: user.id.toString() },\n    });\n    const vehicles = response.data.vehiclesByUser.items;\n    const vehicle = vehicles.find((vehicle) => {\n      return vehicle.vehicleNumber === vehicleNumber;\n    });\n    return Boolean(!vehicle);\n  }\n}\n\nexport const orderApi = new OrderApi();\n"]},"metadata":{},"sourceType":"module"}