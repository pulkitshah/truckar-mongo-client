{"ast":null,"code":"import _defineProperty from \"/Users/pulkitshah/Desktop/truckarv2/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"/Users/pulkitshah/Desktop/truckarv2/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/pulkitshah/Desktop/truckarv2/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/pulkitshah/Desktop/truckarv2/renderer/components/authentication/firebase-register.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { useRouter } from 'next/router';\nimport * as Yup from 'yup';\nimport { useFormik } from 'formik';\nimport { Box, Button, Checkbox, Divider, FormHelperText, Link, TextField, Typography } from '@mui/material';\nimport { useAuth } from '../../hooks/use-auth';\nimport { useMounted } from '../../hooks/use-mounted';\nexport var FirebaseRegister = function FirebaseRegister(props) {\n  _s();\n\n  var isMounted = useMounted();\n  var router = useRouter();\n\n  var _useAuth = useAuth(),\n      createUserWithEmailAndPassword = _useAuth.createUserWithEmailAndPassword,\n      signInWithGoogle = _useAuth.signInWithGoogle;\n\n  var formik = useFormik({\n    initialValues: {\n      email: '',\n      password: '',\n      policy: true,\n      submit: null\n    },\n    validationSchema: Yup.object({\n      email: Yup.string().email('Must be a valid email').max(255).required('Email is required'),\n      password: Yup.string().min(7).max(255).required('Password is required'),\n      policy: Yup[\"boolean\"]().oneOf([true], 'This field must be checked')\n    }),\n    onSubmit: function () {\n      var _onSubmit = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(values, helpers) {\n        var returnUrl;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return createUserWithEmailAndPassword(values.email, values.password);\n\n              case 3:\n                if (isMounted()) {\n                  returnUrl = router.query.returnUrl || '/dashboard';\n                  router.push(returnUrl);\n                }\n\n                _context.next = 10;\n                break;\n\n              case 6:\n                _context.prev = 6;\n                _context.t0 = _context[\"catch\"](0);\n                console.error(_context.t0);\n\n                if (isMounted()) {\n                  helpers.setStatus({\n                    success: false\n                  });\n                  helpers.setErrors({\n                    submit: _context.t0.message\n                  });\n                  helpers.setSubmitting(false);\n                }\n\n              case 10:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[0, 6]]);\n      }));\n\n      function onSubmit(_x, _x2) {\n        return _onSubmit.apply(this, arguments);\n      }\n\n      return onSubmit;\n    }()\n  });\n\n  var handleGoogleClick = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return signInWithGoogle();\n\n            case 3:\n              _context2.next = 8;\n              break;\n\n            case 5:\n              _context2.prev = 5;\n              _context2.t0 = _context2[\"catch\"](0);\n              console.error(_context2.t0);\n\n            case 8:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 5]]);\n    }));\n\n    return function handleGoogleClick() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/_jsxDEV(\"div\", _objectSpread(_objectSpread({}, props), {}, {\n    children: [/*#__PURE__*/_jsxDEV(Button, {\n      fullWidth: true,\n      onClick: handleGoogleClick,\n      size: \"large\",\n      sx: {\n        backgroundColor: 'common.white',\n        color: 'common.black',\n        '&:hover': {\n          backgroundColor: 'common.white',\n          color: 'common.black'\n        }\n      },\n      variant: \"contained\",\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        alt: \"Google\",\n        component: \"img\",\n        src: \"/static/icons/google.svg\",\n        sx: {\n          mr: 1\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, _this), \"Google\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        alignItems: 'center',\n        display: 'flex',\n        mt: 2\n      },\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          flexGrow: 1\n        },\n        children: /*#__PURE__*/_jsxDEV(Divider, {\n          orientation: \"horizontal\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(Typography, {\n        color: \"textSecondary\",\n        sx: {\n          m: 2\n        },\n        variant: \"body1\",\n        children: \"OR\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          flexGrow: 1\n        },\n        children: /*#__PURE__*/_jsxDEV(Divider, {\n          orientation: \"horizontal\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(\"form\", {\n      noValidate: true,\n      onSubmit: formik.handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(TextField, {\n        error: Boolean(formik.touched.email && formik.errors.email),\n        fullWidth: true,\n        helperText: formik.touched.email && formik.errors.email,\n        label: \"Email Address\",\n        margin: \"normal\",\n        name: \"email\",\n        onBlur: formik.handleBlur,\n        onChange: formik.handleChange,\n        type: \"email\",\n        value: formik.values.email\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(TextField, {\n        error: Boolean(formik.touched.password && formik.errors.password),\n        fullWidth: true,\n        helperText: formik.touched.password && formik.errors.password,\n        label: \"Password\",\n        margin: \"normal\",\n        name: \"password\",\n        onBlur: formik.handleBlur,\n        onChange: formik.handleChange,\n        type: \"password\",\n        value: formik.values.password\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          alignItems: 'center',\n          display: 'flex',\n          ml: -1,\n          mt: 2\n        },\n        children: [/*#__PURE__*/_jsxDEV(Checkbox, {\n          checked: formik.values.policy,\n          name: \"policy\",\n          onChange: formik.handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(Typography, {\n          color: \"textSecondary\",\n          variant: \"body2\",\n          children: [\"I have read the\", ' ', /*#__PURE__*/_jsxDEV(Link, {\n            component: \"a\",\n            href: \"#\",\n            children: \"Terms and Conditions\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 13\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 9\n      }, _this), Boolean(formik.touched.policy && formik.errors.policy) && /*#__PURE__*/_jsxDEV(FormHelperText, {\n        error: true,\n        children: formik.errors.policy\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 11\n      }, _this), formik.errors.submit && /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          mt: 3\n        },\n        children: /*#__PURE__*/_jsxDEV(FormHelperText, {\n          error: true,\n          children: formik.errors.submit\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 13\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 11\n      }, _this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          mt: 2\n        },\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          disabled: formik.isSubmitting,\n          fullWidth: true,\n          size: \"large\",\n          type: \"submit\",\n          variant: \"contained\",\n          children: \"Register\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }, _this)]\n  }), void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(FirebaseRegister, \"rlNOrkDjfk36/RZev+jEokC0v54=\", false, function () {\n  return [useMounted, useRouter, useAuth, useFormik];\n});\n\n_c = FirebaseRegister;\n\nvar _c;\n\n$RefreshReg$(_c, \"FirebaseRegister\");","map":{"version":3,"sources":["/Users/pulkitshah/Desktop/truckarv2/renderer/components/authentication/firebase-register.js"],"names":["useRouter","Yup","useFormik","Box","Button","Checkbox","Divider","FormHelperText","Link","TextField","Typography","useAuth","useMounted","FirebaseRegister","props","isMounted","router","createUserWithEmailAndPassword","signInWithGoogle","formik","initialValues","email","password","policy","submit","validationSchema","object","string","max","required","min","oneOf","onSubmit","values","helpers","returnUrl","query","push","console","error","setStatus","success","setErrors","message","setSubmitting","handleGoogleClick","backgroundColor","color","mr","alignItems","display","mt","flexGrow","m","handleSubmit","Boolean","touched","errors","handleBlur","handleChange","ml","isSubmitting"],"mappings":"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","sourcesContent":["import { useRouter } from 'next/router';\nimport * as Yup from 'yup';\nimport { useFormik } from 'formik';\nimport {\n  Box,\n  Button,\n  Checkbox,\n  Divider,\n  FormHelperText,\n  Link,\n  TextField,\n  Typography\n} from '@mui/material';\nimport { useAuth } from '../../hooks/use-auth';\nimport { useMounted } from '../../hooks/use-mounted';\n\nexport const FirebaseRegister = (props) => {\n  const isMounted = useMounted();\n  const router = useRouter();\n  const { createUserWithEmailAndPassword, signInWithGoogle } = useAuth();\n  const formik = useFormik({\n    initialValues: {\n      email: '',\n      password: '',\n      policy: true,\n      submit: null\n    },\n    validationSchema: Yup.object({\n      email: Yup\n        .string()\n        .email('Must be a valid email')\n        .max(255)\n        .required('Email is required'),\n      password: Yup\n        .string()\n        .min(7)\n        .max(255)\n        .required('Password is required'),\n      policy: Yup\n        .boolean()\n        .oneOf([true], 'This field must be checked')\n    }),\n    onSubmit: async (values, helpers) => {\n      try {\n        await createUserWithEmailAndPassword(values.email, values.password);\n\n        if (isMounted()) {\n          const returnUrl = router.query.returnUrl || '/dashboard';\n          router.push(returnUrl);\n        }\n      } catch (err) {\n        console.error(err);\n\n        if (isMounted()) {\n          helpers.setStatus({ success: false });\n          helpers.setErrors({ submit: err.message });\n          helpers.setSubmitting(false);\n        }\n      }\n    }\n  });\n\n  const handleGoogleClick = async () => {\n    try {\n      await signInWithGoogle();\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  return (\n    <div {...props}>\n      <Button\n        fullWidth\n        onClick={handleGoogleClick}\n        size=\"large\"\n        sx={{\n          backgroundColor: 'common.white',\n          color: 'common.black',\n          '&:hover': {\n            backgroundColor: 'common.white',\n            color: 'common.black'\n          }\n        }}\n        variant=\"contained\"\n      >\n        <Box\n          alt=\"Google\"\n          component=\"img\"\n          src=\"/static/icons/google.svg\"\n          sx={{ mr: 1 }}\n        />\n        Google\n      </Button>\n      <Box\n        sx={{\n          alignItems: 'center',\n          display: 'flex',\n          mt: 2\n        }}\n      >\n        <Box sx={{ flexGrow: 1 }}>\n          <Divider orientation=\"horizontal\" />\n        </Box>\n        <Typography\n          color=\"textSecondary\"\n          sx={{ m: 2 }}\n          variant=\"body1\"\n        >\n          OR\n        </Typography>\n        <Box sx={{ flexGrow: 1 }}>\n          <Divider orientation=\"horizontal\" />\n        </Box>\n      </Box>\n      <form\n        noValidate\n        onSubmit={formik.handleSubmit}\n      >\n        <TextField\n          error={Boolean(formik.touched.email && formik.errors.email)}\n          fullWidth\n          helperText={formik.touched.email && formik.errors.email}\n          label=\"Email Address\"\n          margin=\"normal\"\n          name=\"email\"\n          onBlur={formik.handleBlur}\n          onChange={formik.handleChange}\n          type=\"email\"\n          value={formik.values.email}\n        />\n        <TextField\n          error={Boolean(formik.touched.password && formik.errors.password)}\n          fullWidth\n          helperText={formik.touched.password && formik.errors.password}\n          label=\"Password\"\n          margin=\"normal\"\n          name=\"password\"\n          onBlur={formik.handleBlur}\n          onChange={formik.handleChange}\n          type=\"password\"\n          value={formik.values.password}\n        />\n        <Box\n          sx={{\n            alignItems: 'center',\n            display: 'flex',\n            ml: -1,\n            mt: 2\n          }}\n        >\n          <Checkbox\n            checked={formik.values.policy}\n            name=\"policy\"\n            onChange={formik.handleChange}\n          />\n          <Typography\n            color=\"textSecondary\"\n            variant=\"body2\"\n          >\n            I have read the\n            {' '}\n            <Link\n              component=\"a\"\n              href=\"#\"\n            >\n              Terms and Conditions\n            </Link>\n          </Typography>\n        </Box>\n        {Boolean(formik.touched.policy && formik.errors.policy) && (\n          <FormHelperText error>\n            {formik.errors.policy}\n          </FormHelperText>\n        )}\n        {formik.errors.submit && (\n          <Box sx={{ mt: 3 }}>\n            <FormHelperText error>\n              {formik.errors.submit}\n            </FormHelperText>\n          </Box>\n        )}\n        <Box sx={{ mt: 2 }}>\n          <Button\n            disabled={formik.isSubmitting}\n            fullWidth\n            size=\"large\"\n            type=\"submit\"\n            variant=\"contained\"\n          >\n            Register\n          </Button>\n        </Box>\n      </form>\n    </div>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}