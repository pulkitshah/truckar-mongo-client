{"ast":null,"code":"import _defineProperty from \"/Users/pulkitshah/Desktop/truckarv2/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"/Users/pulkitshah/Desktop/truckarv2/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/pulkitshah/Desktop/truckarv2/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/pulkitshah/Desktop/truckarv2/renderer/components/dashboard/party/party-address-form.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { useRouter } from \"next/router\";\nimport toast from \"react-hot-toast\";\nimport * as Yup from \"yup\";\nimport { useFormik } from \"formik\";\nimport { v4 as uuid } from \"uuid\";\nimport { Box, Button, TextField, Typography } from \"@mui/material\";\nimport { useAuth } from \"../../../hooks/use-auth\";\nimport { useDispatch } from \"../../../store\";\nimport GoogleMaps from \"./google-places-autocomplete\";\nimport { addressApi } from \"../../../api/address-api\";\nexport var PartyAddressForm = function PartyAddressForm(props) {\n  _s();\n\n  var party = props.party,\n      address = props.address,\n      toggleStatus = props.toggleStatus,\n      type = props.type;\n  var router = useRouter();\n  var dispatch = useDispatch();\n\n  var _useAuth = useAuth(),\n      user = _useAuth.user;\n\n  var formik = useFormik({\n    initialValues: {\n      name: address.name || \"\",\n      gstin: address.gstin || \"\",\n      pan: address.pan || \"\",\n      billingAddressLine1: address.billingAddressLine1 || \"\",\n      billingAddressLine2: address.billingAddressLine2 || \"\",\n      city: address.city ? JSON.parse(address.city) : {},\n      partyId: party.id,\n      party: party,\n      user: user.id,\n      _version: type === \"new\" ? 0 : address._version\n    },\n    onSubmit: function () {\n      var _onSubmit = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(values, helpers) {\n        var id;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                // NOTE: Make API request\n                values.city = JSON.stringify(values.city);\n                id = uuid();\n\n                if (type === \"new\") {\n                  values.id = id;\n                } else {\n                  values.id = address.id;\n                }\n\n                if (!(type === \"new\")) {\n                  _context.next = 9;\n                  break;\n                }\n\n                _context.next = 7;\n                return addressApi.createAddress(values, dispatch);\n\n              case 7:\n                _context.next = 11;\n                break;\n\n              case 9:\n                _context.next = 11;\n                return addressApi.updateAddress(values, dispatch);\n\n              case 11:\n                toggleStatus();\n                toast.success(\"Party updated!\");\n                _context.next = 22;\n                break;\n\n              case 15:\n                _context.prev = 15;\n                _context.t0 = _context[\"catch\"](0);\n                console.error(_context.t0);\n                toast.error(\"Something went wrong!\");\n                helpers.setStatus({\n                  success: false\n                });\n                helpers.setErrors({\n                  submit: _context.t0.message\n                });\n                helpers.setSubmitting(false);\n\n              case 22:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[0, 15]]);\n      }));\n\n      function onSubmit(_x, _x2) {\n        return _onSubmit.apply(this, arguments);\n      }\n\n      return onSubmit;\n    }()\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"form\", _objectSpread(_objectSpread({\n      onSubmit: formik.handleSubmit\n    }, props), {}, {\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          alignItems: \"center\",\n          backgroundColor: function backgroundColor(theme) {\n            return theme.palette.mode === \"dark\" ? \"neutral.800\" : \"neutral.100\";\n          },\n          bpartyRadius: 1,\n          display: \"flex\",\n          flexWrap: \"wrap\",\n          justifyContent: \"space-between\",\n          px: 3,\n          py: 2.5,\n          my: 2.5\n        },\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"overline\",\n          sx: {\n            mr: 2\n          },\n          color: \"textSecondary\",\n          children: \"Party Address\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            alignItems: \"center\",\n            display: \"flex\",\n            m: -1,\n            \"& > button\": {\n              m: 1\n            }\n          },\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            color: \"primary\",\n            type: \"submit\",\n            size: \"small\",\n            variant: \"contained\",\n            children: \"Save Address\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: toggleStatus,\n            size: \"small\",\n            variant: \"outlined\",\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 13\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(Typography, {\n        sx: {\n          mt: 3\n        },\n        variant: \"h6\",\n        children: \"Details\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(TextField, {\n        margin: \"normal\",\n        error: Boolean(formik.touched.name && formik.errors.name),\n        fullWidth: true,\n        helperText: formik.touched.name && formik.errors.name,\n        label: \"Name\",\n        name: \"name\",\n        onBlur: formik.handleBlur,\n        onChange: function onChange(event) {\n          formik.setFieldValue(\"name\", event.target.value.replace(/\\w\\S*/g, function (txt) {\n            return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();\n          }));\n        },\n        value: formik.values.name,\n        variant: \"outlined\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(TextField, {\n        margin: \"normal\",\n        error: Boolean(formik.touched.gstin && formik.errors.gstin),\n        fullWidth: true,\n        helperText: formik.touched.gstin && formik.errors.gstin,\n        label: \"GSTIN\",\n        name: \"gstin\",\n        onBlur: formik.handleBlur,\n        onChange: formik.handleChange,\n        value: formik.values.gstin,\n        variant: \"outlined\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(TextField, {\n        margin: \"normal\",\n        error: Boolean(formik.touched.pan && formik.errors.pan),\n        fullWidth: true,\n        helperText: formik.touched.pan && formik.errors.pan,\n        label: \"PAN\",\n        name: \"pan\",\n        onBlur: formik.handleBlur,\n        onChange: formik.handleChange,\n        value: formik.values.pan,\n        variant: \"outlined\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(TextField, {\n        margin: \"normal\",\n        error: Boolean(formik.touched.billingAddressLine1 && formik.errors.billingAddressLine1),\n        fullWidth: true,\n        helperText: formik.touched.billingAddressLine1 && formik.errors.billingAddressLine1,\n        label: \"Billing Address Line 1\",\n        name: \"billingAddressLine1\",\n        onBlur: formik.handleBlur,\n        onChange: formik.handleChange,\n        value: formik.values.billingAddressLine1,\n        variant: \"outlined\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(TextField, {\n        margin: \"normal\",\n        error: Boolean(formik.touched.billingAddressLine2 && formik.errors.billingAddressLine2),\n        fullWidth: true,\n        helperText: formik.touched.billingAddressLine2 && formik.errors.billingAddressLine2,\n        label: \"Billing Address Line 2\",\n        name: \"billingAddressLine2\",\n        onBlur: formik.handleBlur,\n        onChange: formik.handleChange,\n        value: formik.values.billingAddressLine2,\n        variant: \"outlined\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(GoogleMaps, {\n        formik: formik,\n        error: Boolean(formik.touched.city && formik.errors.city),\n        label: \"City\",\n        field: \"city\",\n        setFieldValue: formik.setFieldValue,\n        handleBlur: formik.handleBlur,\n        values: formik.values\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(Box, {\n        mt: 2,\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          style: {\n            marginRight: 10\n          },\n          variant: \"contained\",\n          color: \"secondary\",\n          type: \"submit\",\n          children: type === \"new\" ? \"Create Party\" : \"Update Party\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          color: \"primary\",\n          onClick: toggleStatus,\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 9\n      }, _this)]\n    }), void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, _this)\n  }, void 0, false);\n};\n\n_s(PartyAddressForm, \"oKxoX/9nDdIi3ELUwZ92FF8OJKc=\", false, function () {\n  return [useRouter, useDispatch, useAuth, useFormik];\n});\n\n_c = PartyAddressForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"PartyAddressForm\");","map":{"version":3,"sources":["/Users/pulkitshah/Desktop/truckarv2/renderer/components/dashboard/party/party-address-form.js"],"names":["useRouter","toast","Yup","useFormik","v4","uuid","Box","Button","TextField","Typography","useAuth","useDispatch","GoogleMaps","addressApi","PartyAddressForm","props","party","address","toggleStatus","type","router","dispatch","user","formik","initialValues","name","gstin","pan","billingAddressLine1","billingAddressLine2","city","JSON","parse","partyId","id","_version","onSubmit","values","helpers","stringify","createAddress","updateAddress","success","console","error","setStatus","setErrors","submit","message","setSubmitting","handleSubmit","alignItems","backgroundColor","theme","palette","mode","bpartyRadius","display","flexWrap","justifyContent","px","py","my","mr","m","mt","Boolean","touched","errors","handleBlur","event","setFieldValue","target","value","replace","txt","charAt","toUpperCase","substr","toLowerCase","handleChange","marginRight"],"mappings":";;;;;;;;;;;;;;AAAA,SAASA,SAAT,QAA0B,aAA1B;AACA,OAAOC,KAAP,MAAkB,iBAAlB;AACA,OAAO,KAAKC,GAAZ,MAAqB,KAArB;AACA,SAASC,SAAT,QAA0B,QAA1B;AACA,SAASC,EAAE,IAAIC,IAAf,QAA2B,MAA3B;AACA,SAASC,GAAT,EAAcC,MAAd,EAAsBC,SAAtB,EAAiCC,UAAjC,QAAmD,eAAnD;AACA,SAASC,OAAT,QAAwB,yBAAxB;AACA,SAASC,WAAT,QAA4B,gBAA5B;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,SAASC,UAAT,QAA2B,0BAA3B;AAEA,OAAO,IAAMC,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACC,KAAD,EAAW;AAAA;;AAAA,MACjCC,KADiC,GACMD,KADN,CACjCC,KADiC;AAAA,MAC1BC,OAD0B,GACMF,KADN,CAC1BE,OAD0B;AAAA,MACjBC,YADiB,GACMH,KADN,CACjBG,YADiB;AAAA,MACHC,IADG,GACMJ,KADN,CACHI,IADG;AAEzC,MAAMC,MAAM,GAAGpB,SAAS,EAAxB;AACA,MAAMqB,QAAQ,GAAGV,WAAW,EAA5B;;AAHyC,iBAIxBD,OAAO,EAJiB;AAAA,MAIjCY,IAJiC,YAIjCA,IAJiC;;AAMzC,MAAMC,MAAM,GAAGpB,SAAS,CAAC;AACvBqB,IAAAA,aAAa,EAAE;AACbC,MAAAA,IAAI,EAAER,OAAO,CAACQ,IAAR,IAAgB,EADT;AAEbC,MAAAA,KAAK,EAAET,OAAO,CAACS,KAAR,IAAiB,EAFX;AAGbC,MAAAA,GAAG,EAAEV,OAAO,CAACU,GAAR,IAAe,EAHP;AAIbC,MAAAA,mBAAmB,EAAEX,OAAO,CAACW,mBAAR,IAA+B,EAJvC;AAKbC,MAAAA,mBAAmB,EAAEZ,OAAO,CAACY,mBAAR,IAA+B,EALvC;AAMbC,MAAAA,IAAI,EAAEb,OAAO,CAACa,IAAR,GAAeC,IAAI,CAACC,KAAL,CAAWf,OAAO,CAACa,IAAnB,CAAf,GAA0C,EANnC;AAObG,MAAAA,OAAO,EAAEjB,KAAK,CAACkB,EAPF;AAQblB,MAAAA,KAAK,EAAEA,KARM;AASbM,MAAAA,IAAI,EAAEA,IAAI,CAACY,EATE;AAUbC,MAAAA,QAAQ,EAAEhB,IAAI,KAAK,KAAT,GAAiB,CAAjB,GAAqBF,OAAO,CAACkB;AAV1B,KADQ;AAavBC,IAAAA,QAAQ;AAAA,+EAAE,iBAAOC,MAAP,EAAeC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEN;AACAD,gBAAAA,MAAM,CAACP,IAAP,GAAcC,IAAI,CAACQ,SAAL,CAAeF,MAAM,CAACP,IAAtB,CAAd;AACMI,gBAAAA,EAJA,GAIK7B,IAAI,EAJT;;AAKN,oBAAIc,IAAI,KAAK,KAAb,EAAoB;AAClBkB,kBAAAA,MAAM,CAACH,EAAP,GAAYA,EAAZ;AACD,iBAFD,MAEO;AACLG,kBAAAA,MAAM,CAACH,EAAP,GAAYjB,OAAO,CAACiB,EAApB;AACD;;AATK,sBAUNf,IAAI,KAAK,KAVH;AAAA;AAAA;AAAA;;AAAA;AAAA,uBAWIN,UAAU,CAAC2B,aAAX,CAAyBH,MAAzB,EAAiChB,QAAjC,CAXJ;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,uBAYIR,UAAU,CAAC4B,aAAX,CAAyBJ,MAAzB,EAAiChB,QAAjC,CAZJ;;AAAA;AAaNH,gBAAAA,YAAY;AACZjB,gBAAAA,KAAK,CAACyC,OAAN,CAAc,gBAAd;AAdM;AAAA;;AAAA;AAAA;AAAA;AAgBNC,gBAAAA,OAAO,CAACC,KAAR;AACA3C,gBAAAA,KAAK,CAAC2C,KAAN,CAAY,uBAAZ;AACAN,gBAAAA,OAAO,CAACO,SAAR,CAAkB;AAAEH,kBAAAA,OAAO,EAAE;AAAX,iBAAlB;AACAJ,gBAAAA,OAAO,CAACQ,SAAR,CAAkB;AAAEC,kBAAAA,MAAM,EAAE,YAAIC;AAAd,iBAAlB;AACAV,gBAAAA,OAAO,CAACW,aAAR,CAAsB,KAAtB;;AApBM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAF;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAbe,GAAD,CAAxB;AAsCA,sBACE;AAAA,2BACE;AAAM,MAAA,QAAQ,EAAE1B,MAAM,CAAC2B;AAAvB,OAAyCnC,KAAzC;AAAA,8BACE,QAAC,GAAD;AACE,QAAA,EAAE,EAAE;AACFoC,UAAAA,UAAU,EAAE,QADV;AAEFC,UAAAA,eAAe,EAAE,yBAACC,KAAD;AAAA,mBACfA,KAAK,CAACC,OAAN,CAAcC,IAAd,KAAuB,MAAvB,GAAgC,aAAhC,GAAgD,aADjC;AAAA,WAFf;AAIFC,UAAAA,YAAY,EAAE,CAJZ;AAKFC,UAAAA,OAAO,EAAE,MALP;AAMFC,UAAAA,QAAQ,EAAE,MANR;AAOFC,UAAAA,cAAc,EAAE,eAPd;AAQFC,UAAAA,EAAE,EAAE,CARF;AASFC,UAAAA,EAAE,EAAE,GATF;AAUFC,UAAAA,EAAE,EAAE;AAVF,SADN;AAAA,gCAcE,QAAC,UAAD;AAAY,UAAA,OAAO,EAAC,UAApB;AAA+B,UAAA,EAAE,EAAE;AAAEC,YAAAA,EAAE,EAAE;AAAN,WAAnC;AAA8C,UAAA,KAAK,EAAC,eAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAdF,eAiBE,QAAC,GAAD;AACE,UAAA,EAAE,EAAE;AACFZ,YAAAA,UAAU,EAAE,QADV;AAEFM,YAAAA,OAAO,EAAE,MAFP;AAGFO,YAAAA,CAAC,EAAE,CAAC,CAHF;AAIF,0BAAc;AACZA,cAAAA,CAAC,EAAE;AADS;AAJZ,WADN;AAAA,kCAUE,QAAC,MAAD;AACE,YAAA,KAAK,EAAC,SADR;AAEE,YAAA,IAAI,EAAC,QAFP;AAGE,YAAA,IAAI,EAAC,OAHP;AAIE,YAAA,OAAO,EAAC,WAJV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAVF,eAkBE,QAAC,MAAD;AAAQ,YAAA,OAAO,EAAE9C,YAAjB;AAA+B,YAAA,IAAI,EAAC,OAApC;AAA4C,YAAA,OAAO,EAAC,UAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAlBF;AAAA;AAAA;AAAA;AAAA;AAAA,iBAjBF;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,eA0CE,QAAC,UAAD;AAAY,QAAA,EAAE,EAAE;AAAE+C,UAAAA,EAAE,EAAE;AAAN,SAAhB;AAA2B,QAAA,OAAO,EAAC,IAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eA1CF,eA6CE,QAAC,SAAD;AACE,QAAA,MAAM,EAAC,QADT;AAEE,QAAA,KAAK,EAAEC,OAAO,CAAC3C,MAAM,CAAC4C,OAAP,CAAe1C,IAAf,IAAuBF,MAAM,CAAC6C,MAAP,CAAc3C,IAAtC,CAFhB;AAGE,QAAA,SAAS,MAHX;AAIE,QAAA,UAAU,EAAEF,MAAM,CAAC4C,OAAP,CAAe1C,IAAf,IAAuBF,MAAM,CAAC6C,MAAP,CAAc3C,IAJnD;AAKE,QAAA,KAAK,EAAC,MALR;AAME,QAAA,IAAI,EAAC,MANP;AAOE,QAAA,MAAM,EAAEF,MAAM,CAAC8C,UAPjB;AAQE,QAAA,QAAQ,EAAE,kBAACC,KAAD,EAAW;AACnB/C,UAAAA,MAAM,CAACgD,aAAP,CACE,MADF,EAEED,KAAK,CAACE,MAAN,CAAaC,KAAb,CAAmBC,OAAnB,CAA2B,QAA3B,EAAqC,UAAUC,GAAV,EAAe;AAClD,mBACEA,GAAG,CAACC,MAAJ,CAAW,CAAX,EAAcC,WAAd,KAA8BF,GAAG,CAACG,MAAJ,CAAW,CAAX,EAAcC,WAAd,EADhC;AAGD,WAJD,CAFF;AAQD,SAjBH;AAkBE,QAAA,KAAK,EAAExD,MAAM,CAACc,MAAP,CAAcZ,IAlBvB;AAmBE,QAAA,OAAO,EAAC;AAnBV;AAAA;AAAA;AAAA;AAAA,eA7CF,eAkEE,QAAC,SAAD;AACE,QAAA,MAAM,EAAC,QADT;AAEE,QAAA,KAAK,EAAEyC,OAAO,CAAC3C,MAAM,CAAC4C,OAAP,CAAezC,KAAf,IAAwBH,MAAM,CAAC6C,MAAP,CAAc1C,KAAvC,CAFhB;AAGE,QAAA,SAAS,MAHX;AAIE,QAAA,UAAU,EAAEH,MAAM,CAAC4C,OAAP,CAAezC,KAAf,IAAwBH,MAAM,CAAC6C,MAAP,CAAc1C,KAJpD;AAKE,QAAA,KAAK,EAAC,OALR;AAME,QAAA,IAAI,EAAC,OANP;AAOE,QAAA,MAAM,EAAEH,MAAM,CAAC8C,UAPjB;AAQE,QAAA,QAAQ,EAAE9C,MAAM,CAACyD,YARnB;AASE,QAAA,KAAK,EAAEzD,MAAM,CAACc,MAAP,CAAcX,KATvB;AAUE,QAAA,OAAO,EAAC;AAVV;AAAA;AAAA;AAAA;AAAA,eAlEF,eA8EE,QAAC,SAAD;AACE,QAAA,MAAM,EAAC,QADT;AAEE,QAAA,KAAK,EAAEwC,OAAO,CAAC3C,MAAM,CAAC4C,OAAP,CAAexC,GAAf,IAAsBJ,MAAM,CAAC6C,MAAP,CAAczC,GAArC,CAFhB;AAGE,QAAA,SAAS,MAHX;AAIE,QAAA,UAAU,EAAEJ,MAAM,CAAC4C,OAAP,CAAexC,GAAf,IAAsBJ,MAAM,CAAC6C,MAAP,CAAczC,GAJlD;AAKE,QAAA,KAAK,EAAC,KALR;AAME,QAAA,IAAI,EAAC,KANP;AAOE,QAAA,MAAM,EAAEJ,MAAM,CAAC8C,UAPjB;AAQE,QAAA,QAAQ,EAAE9C,MAAM,CAACyD,YARnB;AASE,QAAA,KAAK,EAAEzD,MAAM,CAACc,MAAP,CAAcV,GATvB;AAUE,QAAA,OAAO,EAAC;AAVV;AAAA;AAAA;AAAA;AAAA,eA9EF,eA0FE,QAAC,SAAD;AACE,QAAA,MAAM,EAAC,QADT;AAEE,QAAA,KAAK,EAAEuC,OAAO,CACZ3C,MAAM,CAAC4C,OAAP,CAAevC,mBAAf,IACEL,MAAM,CAAC6C,MAAP,CAAcxC,mBAFJ,CAFhB;AAME,QAAA,SAAS,MANX;AAOE,QAAA,UAAU,EACRL,MAAM,CAAC4C,OAAP,CAAevC,mBAAf,IACAL,MAAM,CAAC6C,MAAP,CAAcxC,mBATlB;AAWE,QAAA,KAAK,EAAC,wBAXR;AAYE,QAAA,IAAI,EAAC,qBAZP;AAaE,QAAA,MAAM,EAAEL,MAAM,CAAC8C,UAbjB;AAcE,QAAA,QAAQ,EAAE9C,MAAM,CAACyD,YAdnB;AAeE,QAAA,KAAK,EAAEzD,MAAM,CAACc,MAAP,CAAcT,mBAfvB;AAgBE,QAAA,OAAO,EAAC;AAhBV;AAAA;AAAA;AAAA;AAAA,eA1FF,eA4GE,QAAC,SAAD;AACE,QAAA,MAAM,EAAC,QADT;AAEE,QAAA,KAAK,EAAEsC,OAAO,CACZ3C,MAAM,CAAC4C,OAAP,CAAetC,mBAAf,IACEN,MAAM,CAAC6C,MAAP,CAAcvC,mBAFJ,CAFhB;AAME,QAAA,SAAS,MANX;AAOE,QAAA,UAAU,EACRN,MAAM,CAAC4C,OAAP,CAAetC,mBAAf,IACAN,MAAM,CAAC6C,MAAP,CAAcvC,mBATlB;AAWE,QAAA,KAAK,EAAC,wBAXR;AAYE,QAAA,IAAI,EAAC,qBAZP;AAaE,QAAA,MAAM,EAAEN,MAAM,CAAC8C,UAbjB;AAcE,QAAA,QAAQ,EAAE9C,MAAM,CAACyD,YAdnB;AAeE,QAAA,KAAK,EAAEzD,MAAM,CAACc,MAAP,CAAcR,mBAfvB;AAgBE,QAAA,OAAO,EAAC;AAhBV;AAAA;AAAA;AAAA;AAAA,eA5GF,eA8HE,QAAC,UAAD;AACE,QAAA,MAAM,EAAEN,MADV;AAEE,QAAA,KAAK,EAAE2C,OAAO,CAAC3C,MAAM,CAAC4C,OAAP,CAAerC,IAAf,IAAuBP,MAAM,CAAC6C,MAAP,CAActC,IAAtC,CAFhB;AAGE,QAAA,KAAK,EAAE,MAHT;AAIE,QAAA,KAAK,EAAE,MAJT;AAKE,QAAA,aAAa,EAAEP,MAAM,CAACgD,aALxB;AAME,QAAA,UAAU,EAAEhD,MAAM,CAAC8C,UANrB;AAOE,QAAA,MAAM,EAAE9C,MAAM,CAACc;AAPjB;AAAA;AAAA;AAAA;AAAA,eA9HF,eAuIE,QAAC,GAAD;AAAK,QAAA,EAAE,EAAE,CAAT;AAAA,gCACE,QAAC,MAAD;AACE,UAAA,KAAK,EAAE;AAAE4C,YAAAA,WAAW,EAAE;AAAf,WADT;AAEE,UAAA,OAAO,EAAC,WAFV;AAGE,UAAA,KAAK,EAAC,WAHR;AAIE,UAAA,IAAI,EAAC,QAJP;AAAA,oBAMG9D,IAAI,KAAK,KAAT,GAAiB,cAAjB,GAAkC;AANrC;AAAA;AAAA;AAAA;AAAA,iBADF,eAUE,QAAC,MAAD;AAAQ,UAAA,OAAO,EAAC,WAAhB;AAA4B,UAAA,KAAK,EAAC,SAAlC;AAA4C,UAAA,OAAO,EAAED,YAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAVF;AAAA;AAAA;AAAA;AAAA;AAAA,eAvIF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF,mBADF;AA0JD,CAtMM;;GAAMJ,gB;UAEId,S,EACEW,W,EACAD,O,EAEFP,S;;;KANJW,gB","sourcesContent":["import { useRouter } from \"next/router\";\nimport toast from \"react-hot-toast\";\nimport * as Yup from \"yup\";\nimport { useFormik } from \"formik\";\nimport { v4 as uuid } from \"uuid\";\nimport { Box, Button, TextField, Typography } from \"@mui/material\";\nimport { useAuth } from \"../../../hooks/use-auth\";\nimport { useDispatch } from \"../../../store\";\nimport GoogleMaps from \"./google-places-autocomplete\";\nimport { addressApi } from \"../../../api/address-api\";\n\nexport const PartyAddressForm = (props) => {\n  const { party, address, toggleStatus, type } = props;\n  const router = useRouter();\n  const dispatch = useDispatch();\n  const { user } = useAuth();\n\n  const formik = useFormik({\n    initialValues: {\n      name: address.name || \"\",\n      gstin: address.gstin || \"\",\n      pan: address.pan || \"\",\n      billingAddressLine1: address.billingAddressLine1 || \"\",\n      billingAddressLine2: address.billingAddressLine2 || \"\",\n      city: address.city ? JSON.parse(address.city) : {},\n      partyId: party.id,\n      party: party,\n      user: user.id,\n      _version: type === \"new\" ? 0 : address._version,\n    },\n    onSubmit: async (values, helpers) => {\n      try {\n        // NOTE: Make API request\n        values.city = JSON.stringify(values.city);\n        const id = uuid();\n        if (type === \"new\") {\n          values.id = id;\n        } else {\n          values.id = address.id;\n        }\n        type === \"new\"\n          ? await addressApi.createAddress(values, dispatch)\n          : await addressApi.updateAddress(values, dispatch);\n        toggleStatus();\n        toast.success(\"Party updated!\");\n      } catch (err) {\n        console.error(err);\n        toast.error(\"Something went wrong!\");\n        helpers.setStatus({ success: false });\n        helpers.setErrors({ submit: err.message });\n        helpers.setSubmitting(false);\n      }\n    },\n  });\n\n  return (\n    <>\n      <form onSubmit={formik.handleSubmit} {...props}>\n        <Box\n          sx={{\n            alignItems: \"center\",\n            backgroundColor: (theme) =>\n              theme.palette.mode === \"dark\" ? \"neutral.800\" : \"neutral.100\",\n            bpartyRadius: 1,\n            display: \"flex\",\n            flexWrap: \"wrap\",\n            justifyContent: \"space-between\",\n            px: 3,\n            py: 2.5,\n            my: 2.5,\n          }}\n        >\n          <Typography variant=\"overline\" sx={{ mr: 2 }} color=\"textSecondary\">\n            Party Address\n          </Typography>\n          <Box\n            sx={{\n              alignItems: \"center\",\n              display: \"flex\",\n              m: -1,\n              \"& > button\": {\n                m: 1,\n              },\n            }}\n          >\n            <Button\n              color=\"primary\"\n              type=\"submit\"\n              size=\"small\"\n              variant=\"contained\"\n            >\n              Save Address\n            </Button>\n            <Button onClick={toggleStatus} size=\"small\" variant=\"outlined\">\n              Cancel\n            </Button>\n          </Box>\n        </Box>\n\n        <Typography sx={{ mt: 3 }} variant=\"h6\">\n          Details\n        </Typography>\n        <TextField\n          margin=\"normal\"\n          error={Boolean(formik.touched.name && formik.errors.name)}\n          fullWidth\n          helperText={formik.touched.name && formik.errors.name}\n          label=\"Name\"\n          name=\"name\"\n          onBlur={formik.handleBlur}\n          onChange={(event) => {\n            formik.setFieldValue(\n              \"name\",\n              event.target.value.replace(/\\w\\S*/g, function (txt) {\n                return (\n                  txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase()\n                );\n              })\n            );\n          }}\n          value={formik.values.name}\n          variant=\"outlined\"\n        />\n        <TextField\n          margin=\"normal\"\n          error={Boolean(formik.touched.gstin && formik.errors.gstin)}\n          fullWidth\n          helperText={formik.touched.gstin && formik.errors.gstin}\n          label=\"GSTIN\"\n          name=\"gstin\"\n          onBlur={formik.handleBlur}\n          onChange={formik.handleChange}\n          value={formik.values.gstin}\n          variant=\"outlined\"\n        />\n        <TextField\n          margin=\"normal\"\n          error={Boolean(formik.touched.pan && formik.errors.pan)}\n          fullWidth\n          helperText={formik.touched.pan && formik.errors.pan}\n          label=\"PAN\"\n          name=\"pan\"\n          onBlur={formik.handleBlur}\n          onChange={formik.handleChange}\n          value={formik.values.pan}\n          variant=\"outlined\"\n        />\n        <TextField\n          margin=\"normal\"\n          error={Boolean(\n            formik.touched.billingAddressLine1 &&\n              formik.errors.billingAddressLine1\n          )}\n          fullWidth\n          helperText={\n            formik.touched.billingAddressLine1 &&\n            formik.errors.billingAddressLine1\n          }\n          label=\"Billing Address Line 1\"\n          name=\"billingAddressLine1\"\n          onBlur={formik.handleBlur}\n          onChange={formik.handleChange}\n          value={formik.values.billingAddressLine1}\n          variant=\"outlined\"\n        />\n        <TextField\n          margin=\"normal\"\n          error={Boolean(\n            formik.touched.billingAddressLine2 &&\n              formik.errors.billingAddressLine2\n          )}\n          fullWidth\n          helperText={\n            formik.touched.billingAddressLine2 &&\n            formik.errors.billingAddressLine2\n          }\n          label=\"Billing Address Line 2\"\n          name=\"billingAddressLine2\"\n          onBlur={formik.handleBlur}\n          onChange={formik.handleChange}\n          value={formik.values.billingAddressLine2}\n          variant=\"outlined\"\n        />\n        <GoogleMaps\n          formik={formik}\n          error={Boolean(formik.touched.city && formik.errors.city)}\n          label={\"City\"}\n          field={\"city\"}\n          setFieldValue={formik.setFieldValue}\n          handleBlur={formik.handleBlur}\n          values={formik.values}\n        />\n        <Box mt={2}>\n          <Button\n            style={{ marginRight: 10 }}\n            variant=\"contained\"\n            color=\"secondary\"\n            type=\"submit\"\n          >\n            {type === \"new\" ? \"Create Party\" : \"Update Party\"}\n          </Button>\n\n          <Button variant=\"contained\" color=\"primary\" onClick={toggleStatus}>\n            Cancel\n          </Button>\n        </Box>\n      </form>\n    </>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}