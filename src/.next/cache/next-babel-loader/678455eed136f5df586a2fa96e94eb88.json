{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/pulkitshah/Desktop/truckarv2/renderer/contexts/settings-context.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport { createContext, useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nvar initialSettings = {\n  direction: 'ltr',\n  responsiveFontSizes: true,\n  theme: 'light'\n};\nexport var restoreSettings = function restoreSettings() {\n  var settings = null;\n\n  try {\n    var storedData = window.localStorage.getItem('settings');\n\n    if (storedData) {\n      settings = JSON.parse(storedData);\n    } else {\n      settings = {\n        direction: 'ltr',\n        responsiveFontSizes: true,\n        theme: window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light'\n      };\n    }\n  } catch (err) {\n    console.error(err); // If stored data is not a strigified JSON this will fail,\n    // that's why we catch the error\n  }\n\n  return settings;\n};\nexport var storeSettings = function storeSettings(settings) {\n  window.localStorage.setItem('settings', JSON.stringify(settings));\n};\nexport var SettingsContext = /*#__PURE__*/createContext({\n  settings: initialSettings,\n  saveSettings: function saveSettings() {}\n});\nexport var SettingsProvider = function SettingsProvider(props) {\n  _s();\n\n  var children = props.children;\n\n  var _useState = useState(initialSettings),\n      settings = _useState[0],\n      setSettings = _useState[1];\n\n  useEffect(function () {\n    var restoredSettings = restoreSettings();\n\n    if (restoredSettings) {\n      setSettings(restoredSettings);\n    }\n  }, []);\n\n  var saveSettings = function saveSettings(updatedSettings) {\n    setSettings(updatedSettings);\n    storeSettings(updatedSettings);\n  };\n\n  return /*#__PURE__*/_jsxDEV(SettingsContext.Provider, {\n    value: {\n      settings: settings,\n      saveSettings: saveSettings\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(SettingsProvider, \"GEfCXRZSPlOPnD8aJCS6HZVx5YE=\");\n\n_c = SettingsProvider;\nSettingsProvider.propTypes = {\n  children: PropTypes.node.isRequired\n};\nexport var SettingsConsumer = SettingsContext.Consumer;\n\nvar _c;\n\n$RefreshReg$(_c, \"SettingsProvider\");","map":{"version":3,"sources":["/Users/pulkitshah/Desktop/truckarv2/renderer/contexts/settings-context.js"],"names":["createContext","useEffect","useState","PropTypes","initialSettings","direction","responsiveFontSizes","theme","restoreSettings","settings","storedData","window","localStorage","getItem","JSON","parse","matchMedia","matches","err","console","error","storeSettings","setItem","stringify","SettingsContext","saveSettings","SettingsProvider","props","children","setSettings","restoredSettings","updatedSettings","propTypes","node","isRequired","SettingsConsumer","Consumer"],"mappings":";;;;;;AAAA,SAASA,aAAT,EAAwBC,SAAxB,EAAmCC,QAAnC,QAAmD,OAAnD;AACA,OAAOC,SAAP,MAAsB,YAAtB;AAEA,IAAMC,eAAe,GAAG;AACtBC,EAAAA,SAAS,EAAE,KADW;AAEtBC,EAAAA,mBAAmB,EAAE,IAFC;AAGtBC,EAAAA,KAAK,EAAE;AAHe,CAAxB;AAMA,OAAO,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,GAAM;AACnC,MAAIC,QAAQ,GAAG,IAAf;;AAEA,MAAI;AACF,QAAMC,UAAU,GAAGC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,UAA5B,CAAnB;;AAEA,QAAIH,UAAJ,EAAgB;AACdD,MAAAA,QAAQ,GAAGK,IAAI,CAACC,KAAL,CAAWL,UAAX,CAAX;AACD,KAFD,MAEO;AACLD,MAAAA,QAAQ,GAAG;AACTJ,QAAAA,SAAS,EAAE,KADF;AAETC,QAAAA,mBAAmB,EAAE,IAFZ;AAGTC,QAAAA,KAAK,EAAEI,MAAM,CAACK,UAAP,CAAkB,8BAAlB,EAAkDC,OAAlD,GACH,MADG,GAEH;AALK,OAAX;AAOD;AACF,GAdD,CAcE,OAAOC,GAAP,EAAY;AACZC,IAAAA,OAAO,CAACC,KAAR,CAAcF,GAAd,EADY,CAEZ;AACA;AACD;;AAED,SAAOT,QAAP;AACD,CAxBM;AA0BP,OAAO,IAAMY,aAAa,GAAG,SAAhBA,aAAgB,CAACZ,QAAD,EAAc;AACzCE,EAAAA,MAAM,CAACC,YAAP,CAAoBU,OAApB,CAA4B,UAA5B,EAAwCR,IAAI,CAACS,SAAL,CAAed,QAAf,CAAxC;AACD,CAFM;AAIP,OAAO,IAAMe,eAAe,gBAAGxB,aAAa,CAAC;AAC3CS,EAAAA,QAAQ,EAAEL,eADiC;AAE3CqB,EAAAA,YAAY,EAAE,wBAAM,CAAG;AAFoB,CAAD,CAArC;AAKP,OAAO,IAAMC,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACC,KAAD,EAAW;AAAA;;AAAA,MACjCC,QADiC,GACpBD,KADoB,CACjCC,QADiC;;AAAA,kBAET1B,QAAQ,CAACE,eAAD,CAFC;AAAA,MAElCK,QAFkC;AAAA,MAExBoB,WAFwB;;AAIzC5B,EAAAA,SAAS,CAAC,YAAM;AACd,QAAM6B,gBAAgB,GAAGtB,eAAe,EAAxC;;AAEA,QAAIsB,gBAAJ,EAAsB;AACpBD,MAAAA,WAAW,CAACC,gBAAD,CAAX;AACD;AACF,GANQ,EAMN,EANM,CAAT;;AAQA,MAAML,YAAY,GAAG,SAAfA,YAAe,CAACM,eAAD,EAAqB;AACxCF,IAAAA,WAAW,CAACE,eAAD,CAAX;AACAV,IAAAA,aAAa,CAACU,eAAD,CAAb;AACD,GAHD;;AAKA,sBACE,QAAC,eAAD,CAAiB,QAAjB;AACE,IAAA,KAAK,EAAE;AACLtB,MAAAA,QAAQ,EAARA,QADK;AAELgB,MAAAA,YAAY,EAAZA;AAFK,KADT;AAAA,cAMGG;AANH;AAAA;AAAA;AAAA;AAAA,WADF;AAUD,CA3BM;;GAAMF,gB;;KAAAA,gB;AA6BbA,gBAAgB,CAACM,SAAjB,GAA6B;AAC3BJ,EAAAA,QAAQ,EAAEzB,SAAS,CAAC8B,IAAV,CAAeC;AADE,CAA7B;AAIA,OAAO,IAAMC,gBAAgB,GAAGX,eAAe,CAACY,QAAzC","sourcesContent":["import { createContext, useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\n\nconst initialSettings = {\n  direction: 'ltr',\n  responsiveFontSizes: true,\n  theme: 'light'\n};\n\nexport const restoreSettings = () => {\n  let settings = null;\n\n  try {\n    const storedData = window.localStorage.getItem('settings');\n\n    if (storedData) {\n      settings = JSON.parse(storedData);\n    } else {\n      settings = {\n        direction: 'ltr',\n        responsiveFontSizes: true,\n        theme: window.matchMedia('(prefers-color-scheme: dark)').matches\n          ? 'dark'\n          : 'light'\n      };\n    }\n  } catch (err) {\n    console.error(err);\n    // If stored data is not a strigified JSON this will fail,\n    // that's why we catch the error\n  }\n\n  return settings;\n};\n\nexport const storeSettings = (settings) => {\n  window.localStorage.setItem('settings', JSON.stringify(settings));\n};\n\nexport const SettingsContext = createContext({\n  settings: initialSettings,\n  saveSettings: () => { }\n});\n\nexport const SettingsProvider = (props) => {\n  const { children } = props;\n  const [settings, setSettings] = useState(initialSettings);\n\n  useEffect(() => {\n    const restoredSettings = restoreSettings();\n\n    if (restoredSettings) {\n      setSettings(restoredSettings);\n    }\n  }, []);\n\n  const saveSettings = (updatedSettings) => {\n    setSettings(updatedSettings);\n    storeSettings(updatedSettings);\n  };\n\n  return (\n    <SettingsContext.Provider\n      value={{\n        settings,\n        saveSettings\n      }}\n    >\n      {children}\n    </SettingsContext.Provider>\n  );\n};\n\nSettingsProvider.propTypes = {\n  children: PropTypes.node.isRequired\n};\n\nexport const SettingsConsumer = SettingsContext.Consumer;\n"]},"metadata":{},"sourceType":"module"}