{"ast":null,"code":"import { API } from \"aws-amplify\";\nimport { getUser } from \"../graphql/queries\";\nimport { updateUser } from \"../graphql/mutations\";\nimport { slice } from \"../slices/user\";\n\nclass UserApi {\n  async getUser(cognitoUser) {\n    const User = await API.graphql({\n      query: getUser,\n      variables: {\n        id: cognitoUser.username\n      }\n    });\n    return User;\n  }\n\n  async updateUser(editedUser, dispatch) {\n    //////////////////////// GraphQL API ////////////////////////\n    const response = await API.graphql({\n      query: updateUser,\n      variables: {\n        input: editedUser\n      },\n      authMode: \"AMAZON_COGNITO_USER_POOLS\"\n    });\n    const user = response.data.updateUser; //////////////////////// GraphQL API ////////////////////////\n\n    console.log(user); // Dispatch - Reducer\n\n    dispatch(slice.actions.updateUser({\n      user\n    }));\n    return response;\n  }\n\n}\n\nexport const userApi = new UserApi();","map":{"version":3,"sources":["/Users/pulkitshah/Desktop/truckarv2/renderer/api/user-api.js"],"names":["API","getUser","updateUser","slice","UserApi","cognitoUser","User","graphql","query","variables","id","username","editedUser","dispatch","response","input","authMode","user","data","console","log","actions","userApi"],"mappings":"AAAA,SAASA,GAAT,QAAoB,aAApB;AACA,SAASC,OAAT,QAAwB,oBAAxB;AACA,SAASC,UAAT,QAA2B,sBAA3B;AACA,SAASC,KAAT,QAAsB,gBAAtB;;AAEA,MAAMC,OAAN,CAAc;AACZ,QAAMH,OAAN,CAAcI,WAAd,EAA2B;AACzB,UAAMC,IAAI,GAAG,MAAMN,GAAG,CAACO,OAAJ,CAAY;AAC7BC,MAAAA,KAAK,EAAEP,OADsB;AAE7BQ,MAAAA,SAAS,EAAE;AAAEC,QAAAA,EAAE,EAAEL,WAAW,CAACM;AAAlB;AAFkB,KAAZ,CAAnB;AAIA,WAAOL,IAAP;AACD;;AAED,QAAMJ,UAAN,CAAiBU,UAAjB,EAA6BC,QAA7B,EAAuC;AACrC;AAEA,UAAMC,QAAQ,GAAG,MAAMd,GAAG,CAACO,OAAJ,CAAY;AACjCC,MAAAA,KAAK,EAAEN,UAD0B;AAEjCO,MAAAA,SAAS,EAAE;AAAEM,QAAAA,KAAK,EAAEH;AAAT,OAFsB;AAGjCI,MAAAA,QAAQ,EAAE;AAHuB,KAAZ,CAAvB;AAMA,UAAMC,IAAI,GAAGH,QAAQ,CAACI,IAAT,CAAchB,UAA3B,CATqC,CAWrC;;AAEAiB,IAAAA,OAAO,CAACC,GAAR,CAAYH,IAAZ,EAbqC,CAerC;;AAEAJ,IAAAA,QAAQ,CAACV,KAAK,CAACkB,OAAN,CAAcnB,UAAd,CAAyB;AAAEe,MAAAA;AAAF,KAAzB,CAAD,CAAR;AAEA,WAAOH,QAAP;AACD;;AA7BW;;AAgCd,OAAO,MAAMQ,OAAO,GAAG,IAAIlB,OAAJ,EAAhB","sourcesContent":["import { API } from \"aws-amplify\";\nimport { getUser } from \"../graphql/queries\";\nimport { updateUser } from \"../graphql/mutations\";\nimport { slice } from \"../slices/user\";\n\nclass UserApi {\n  async getUser(cognitoUser) {\n    const User = await API.graphql({\n      query: getUser,\n      variables: { id: cognitoUser.username },\n    });\n    return User;\n  }\n\n  async updateUser(editedUser, dispatch) {\n    //////////////////////// GraphQL API ////////////////////////\n\n    const response = await API.graphql({\n      query: updateUser,\n      variables: { input: editedUser },\n      authMode: \"AMAZON_COGNITO_USER_POOLS\",\n    });\n\n    const user = response.data.updateUser;\n\n    //////////////////////// GraphQL API ////////////////////////\n\n    console.log(user);\n\n    // Dispatch - Reducer\n\n    dispatch(slice.actions.updateUser({ user }));\n\n    return response;\n  }\n}\n\nexport const userApi = new UserApi();\n"]},"metadata":{},"sourceType":"module"}