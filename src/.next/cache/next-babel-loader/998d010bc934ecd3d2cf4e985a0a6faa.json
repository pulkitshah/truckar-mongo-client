{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/pulkitshah/Desktop/truckarv2/renderer/components/dashboard/party/party-address-form.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { useRouter } from \"next/router\";\nimport toast from \"react-hot-toast\";\nimport * as Yup from \"yup\";\nimport { useFormik } from \"formik\";\nimport { Box, Button, TextField, Typography } from \"@mui/material\";\nimport { useAuth } from \"../../../hooks/use-auth\";\nimport { partyApi } from \"../../../api/party-api\";\nimport { useDispatch } from \"../../../store\";\nimport GoogleMaps from \"./google-places-autocomplete\";\nexport const PartyAddressForm = ({\n  party,\n  address,\n  toggleStatus,\n  type\n}) => {\n  const router = useRouter();\n  const dispatch = useDispatch();\n  const {\n    user\n  } = useAuth();\n  const formik = useFormik({\n    initialValues: {\n      name: address.name || \"\",\n      gstin: address.gstin || \"\",\n      pan: address.pan || \"\",\n      billingAddressLine1: address.billingAddressLine1 || \"\",\n      billingAddressLine2: address.billingAddressLine2 || \"\",\n      city: address.city || \"\",\n      user: user.id,\n      submit: null\n    },\n    onSubmit: async (values, helpers) => {\n      try {\n        // NOTE: Make API request\n        type === \"new\" ? await partyApi.createPartyAddress(values, dispatch) : await partyApi.updatePartyAddress(values, dispatch);\n        toggleStatus();\n        toast.success(\"Party updated!\");\n        onCancel();\n      } catch (err) {\n        console.error(err);\n        toast.error(\"Something went wrong!\");\n        helpers.setStatus({\n          success: false\n        });\n        helpers.setErrors({\n          submit: err.message\n        });\n        helpers.setSubmitting(false);\n      }\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"form\", _objectSpread(_objectSpread({\n      onSubmit: formik.handleSubmit\n    }, props), {}, {\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          alignItems: \"center\",\n          backgroundColor: theme => theme.palette.mode === \"dark\" ? \"neutral.800\" : \"neutral.100\",\n          bpartyRadius: 1,\n          display: \"flex\",\n          flexWrap: \"wrap\",\n          justifyContent: \"space-between\",\n          px: 3,\n          py: 2.5\n        },\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"overline\",\n          sx: {\n            mr: 2\n          },\n          color: \"textSecondary\",\n          children: \"Party Address\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            alignItems: \"center\",\n            display: \"flex\",\n            m: -1,\n            \"& > button\": {\n              m: 1\n            }\n          },\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            color: \"primary\",\n            type: \"submit\",\n            size: \"small\",\n            variant: \"contained\",\n            children: \"Save changes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: onCancel,\n            size: \"small\",\n            variant: \"outlined\",\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        sx: {\n          my: 3\n        },\n        variant: \"h6\",\n        children: \"Details\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        margin: \"normal\",\n        error: Boolean(formik.touched.name && formik.errors.name),\n        fullWidth: true,\n        helperText: formik.touched.name && formik.errors.name,\n        label: \"Name\",\n        name: \"name\",\n        onBlur: formik.handleBlur,\n        onChange: event => {\n          formik.setFieldValue(\"name\", event.target.value.replace(/\\w\\S*/g, function (txt) {\n            return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();\n          }));\n        },\n        value: formik.values.name,\n        variant: \"outlined\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        error: Boolean(formik.touched.gstin && formik.errors.gstin),\n        fullWidth: true,\n        helperText: formik.touched.gstin && eformik.rrors.gstin,\n        label: \"GSTIN\",\n        name: \"gstin\",\n        onBlur: formik.handleBlur,\n        onChange: formik.handleChange,\n        value: formik.values.gstin,\n        variant: \"outlined\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        error: Boolean(formik.touched.pan && formik.errors.pan),\n        fullWidth: true,\n        helperText: formik.touched.pan && eformik.rrors.pan,\n        label: \"PAN\",\n        name: \"pan\",\n        onBlur: formik.handleBlur,\n        onChange: formik.handleChange,\n        value: formik.values.pan,\n        variant: \"outlined\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        margin: \"normal\",\n        error: Boolean(formik.touched.billingaddressline1 && formik.errors.billingaddressline1),\n        fullWidth: true,\n        helperText: formik.touched.billingaddressline1 && formik.errors.billingaddressline1,\n        label: \"Billing Address Line 1\",\n        name: \"billingaddressline1\",\n        onBlur: formik.handleBlur,\n        onChange: formik.handleChange,\n        value: formik.values.billingAddressLine1,\n        variant: \"outlined\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        margin: \"normal\",\n        error: Boolean(formik.touched.billingaddressline2 && formik.errors.billingaddressline2),\n        fullWidth: true,\n        helperText: formik.touched.billingaddressline2 && formik.errors.billingaddressline2,\n        label: \"Billing Address Line 2\",\n        name: \"billingaddressline2\",\n        onBlur: formik.handleBlur,\n        onChange: formik.handleChange,\n        value: formik.values.billingAddressLine2,\n        variant: \"outlined\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(GoogleMaps, {\n        formik: formik,\n        error: Boolean(formik.touched.city && formik.errors.city),\n        label: \"City\",\n        field: \"city\",\n        setFieldValue: formik.setFieldValue,\n        handleBlur: formik.handleBlur,\n        values: formik.values\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        mt: 2,\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          style: {\n            marginRight: 10\n          },\n          variant: \"contained\",\n          color: \"secondary\",\n          type: \"submit\",\n          disabled: isSubmitting,\n          children: type === \"new\" ? \"Create Party\" : \"Update Party\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          color: \"primary\",\n          onClick: toggleStatus,\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 9\n      }, this)]\n    }), void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};","map":{"version":3,"sources":["/Users/pulkitshah/Desktop/truckarv2/renderer/components/dashboard/party/party-address-form.js"],"names":["useRouter","toast","Yup","useFormik","Box","Button","TextField","Typography","useAuth","partyApi","useDispatch","GoogleMaps","PartyAddressForm","party","address","toggleStatus","type","router","dispatch","user","formik","initialValues","name","gstin","pan","billingAddressLine1","billingAddressLine2","city","id","submit","onSubmit","values","helpers","createPartyAddress","updatePartyAddress","success","onCancel","err","console","error","setStatus","setErrors","message","setSubmitting","handleSubmit","props","alignItems","backgroundColor","theme","palette","mode","bpartyRadius","display","flexWrap","justifyContent","px","py","mr","m","my","Boolean","touched","errors","handleBlur","event","setFieldValue","target","value","replace","txt","charAt","toUpperCase","substr","toLowerCase","eformik","rrors","handleChange","billingaddressline1","billingaddressline2","marginRight","isSubmitting"],"mappings":"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","sourcesContent":["import { useRouter } from \"next/router\";\nimport toast from \"react-hot-toast\";\nimport * as Yup from \"yup\";\nimport { useFormik } from \"formik\";\nimport { Box, Button, TextField, Typography } from \"@mui/material\";\nimport { useAuth } from \"../../../hooks/use-auth\";\nimport { partyApi } from \"../../../api/party-api\";\nimport { useDispatch } from \"../../../store\";\nimport GoogleMaps from \"./google-places-autocomplete\";\n\nexport const PartyAddressForm = ({ party, address, toggleStatus, type }) => {\n  const router = useRouter();\n  const dispatch = useDispatch();\n  const { user } = useAuth();\n\n  const formik = useFormik({\n    initialValues: {\n      name: address.name || \"\",\n      gstin: address.gstin || \"\",\n      pan: address.pan || \"\",\n      billingAddressLine1: address.billingAddressLine1 || \"\",\n      billingAddressLine2: address.billingAddressLine2 || \"\",\n      city: address.city || \"\",\n      user: user.id,\n      submit: null,\n    },\n    onSubmit: async (values, helpers) => {\n      try {\n        // NOTE: Make API request\n        type === \"new\"\n          ? await partyApi.createPartyAddress(values, dispatch)\n          : await partyApi.updatePartyAddress(values, dispatch);\n        toggleStatus();\n\n        toast.success(\"Party updated!\");\n        onCancel();\n      } catch (err) {\n        console.error(err);\n        toast.error(\"Something went wrong!\");\n        helpers.setStatus({ success: false });\n        helpers.setErrors({ submit: err.message });\n        helpers.setSubmitting(false);\n      }\n    },\n  });\n\n  return (\n    <>\n      <form onSubmit={formik.handleSubmit} {...props}>\n        <Box\n          sx={{\n            alignItems: \"center\",\n            backgroundColor: (theme) =>\n              theme.palette.mode === \"dark\" ? \"neutral.800\" : \"neutral.100\",\n            bpartyRadius: 1,\n            display: \"flex\",\n            flexWrap: \"wrap\",\n            justifyContent: \"space-between\",\n            px: 3,\n            py: 2.5,\n          }}\n        >\n          <Typography variant=\"overline\" sx={{ mr: 2 }} color=\"textSecondary\">\n            Party Address\n          </Typography>\n          <Box\n            sx={{\n              alignItems: \"center\",\n              display: \"flex\",\n              m: -1,\n              \"& > button\": {\n                m: 1,\n              },\n            }}\n          >\n            <Button\n              color=\"primary\"\n              type=\"submit\"\n              size=\"small\"\n              variant=\"contained\"\n            >\n              Save changes\n            </Button>\n            <Button onClick={onCancel} size=\"small\" variant=\"outlined\">\n              Cancel\n            </Button>\n          </Box>\n        </Box>\n\n        <Typography sx={{ my: 3 }} variant=\"h6\">\n          Details\n        </Typography>\n\n        <TextField\n          margin=\"normal\"\n          error={Boolean(formik.touched.name && formik.errors.name)}\n          fullWidth\n          helperText={formik.touched.name && formik.errors.name}\n          label=\"Name\"\n          name=\"name\"\n          onBlur={formik.handleBlur}\n          onChange={(event) => {\n            formik.setFieldValue(\n              \"name\",\n              event.target.value.replace(/\\w\\S*/g, function (txt) {\n                return (\n                  txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase()\n                );\n              })\n            );\n          }}\n          value={formik.values.name}\n          variant=\"outlined\"\n        />\n        <TextField\n          error={Boolean(formik.touched.gstin && formik.errors.gstin)}\n          fullWidth\n          helperText={formik.touched.gstin && eformik.rrors.gstin}\n          label=\"GSTIN\"\n          name=\"gstin\"\n          onBlur={formik.handleBlur}\n          onChange={formik.handleChange}\n          value={formik.values.gstin}\n          variant=\"outlined\"\n        />\n        <TextField\n          error={Boolean(formik.touched.pan && formik.errors.pan)}\n          fullWidth\n          helperText={formik.touched.pan && eformik.rrors.pan}\n          label=\"PAN\"\n          name=\"pan\"\n          onBlur={formik.handleBlur}\n          onChange={formik.handleChange}\n          value={formik.values.pan}\n          variant=\"outlined\"\n        />\n        <TextField\n          margin=\"normal\"\n          error={Boolean(\n            formik.touched.billingaddressline1 &&\n              formik.errors.billingaddressline1\n          )}\n          fullWidth\n          helperText={\n            formik.touched.billingaddressline1 &&\n            formik.errors.billingaddressline1\n          }\n          label=\"Billing Address Line 1\"\n          name=\"billingaddressline1\"\n          onBlur={formik.handleBlur}\n          onChange={formik.handleChange}\n          value={formik.values.billingAddressLine1}\n          variant=\"outlined\"\n        />\n        <TextField\n          margin=\"normal\"\n          error={Boolean(\n            formik.touched.billingaddressline2 &&\n              formik.errors.billingaddressline2\n          )}\n          fullWidth\n          helperText={\n            formik.touched.billingaddressline2 &&\n            formik.errors.billingaddressline2\n          }\n          label=\"Billing Address Line 2\"\n          name=\"billingaddressline2\"\n          onBlur={formik.handleBlur}\n          onChange={formik.handleChange}\n          value={formik.values.billingAddressLine2}\n          variant=\"outlined\"\n        />\n        <GoogleMaps\n          formik={formik}\n          error={Boolean(formik.touched.city && formik.errors.city)}\n          label={\"City\"}\n          field={\"city\"}\n          setFieldValue={formik.setFieldValue}\n          handleBlur={formik.handleBlur}\n          values={formik.values}\n        />\n        <Box mt={2}>\n          <Button\n            style={{ marginRight: 10 }}\n            variant=\"contained\"\n            color=\"secondary\"\n            type=\"submit\"\n            disabled={isSubmitting}\n          >\n            {type === \"new\" ? \"Create Party\" : \"Update Party\"}\n          </Button>\n\n          <Button variant=\"contained\" color=\"primary\" onClick={toggleStatus}>\n            Cancel\n          </Button>\n        </Box>\n      </form>\n    </>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}