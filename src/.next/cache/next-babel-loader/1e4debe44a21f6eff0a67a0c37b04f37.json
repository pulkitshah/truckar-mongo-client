{"ast":null,"code":"import _regeneratorRuntime from \"/Users/pulkitshah/Desktop/truckarv2/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/pulkitshah/Desktop/truckarv2/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"/Users/pulkitshah/Desktop/truckarv2/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/pulkitshah/Desktop/truckarv2/renderer/pages/dashboard/organisations/index.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { useEffect, useRef, useState } from \"react\";\nimport NextLink from \"next/link\";\nimport Head from \"next/head\";\nimport { useTranslation } from \"react-i18next\";\nimport { Box, Button, Divider, Grid, Typography } from \"@mui/material\";\nimport { styled } from \"@mui/material/styles\";\nimport { useDispatch, useSelector } from \"../../../store\";\nimport { organisationApi } from \"../../../api/organisation-api\";\nimport { AuthGuard } from \"../../../components/authentication/auth-guard\";\nimport { OnBoardingGuard } from \"../../../components/authentication/onboarding-guard\";\nimport { DashboardLayout } from \"../../../components/dashboard/dashboard-layout\";\nimport { OrganisationDrawer } from \"../../../components/dashboard/organisation/organisation-drawer\";\nimport OrganisationGrid from \"../../../components/dashboard/organisation/organisation-grid\";\nimport { useAuth } from \"../../../hooks/use-auth\";\nimport { Plus as PlusIcon } from \"../../../icons/plus\";\nimport { gtm } from \"../../../lib/gtm\";\nvar OrganisationListInner = styled(\"div\", {\n  shouldForwardProp: function shouldForwardProp(prop) {\n    return prop !== \"open\";\n  }\n})(function (_ref) {\n  var _objectSpread2, _ref2;\n\n  var theme = _ref.theme,\n      open = _ref.open;\n  return _objectSpread((_objectSpread2 = {\n    flexGrow: 1,\n    overflow: \"hidden\",\n    paddingBottom: theme.spacing(8),\n    paddingTop: theme.spacing(8),\n    zIndex: 1\n  }, _defineProperty(_objectSpread2, theme.breakpoints.up(\"lg\"), {\n    marginRight: -500\n  }), _defineProperty(_objectSpread2, \"transition\", theme.transitions.create(\"margin\", {\n    easing: theme.transitions.easing.sharp,\n    duration: theme.transitions.duration.leavingScreen\n  })), _objectSpread2), open && (_ref2 = {}, _defineProperty(_ref2, theme.breakpoints.up(\"lg\"), {\n    marginRight: 0\n  }), _defineProperty(_ref2, \"transition\", theme.transitions.create(\"margin\", {\n    easing: theme.transitions.easing.easeOut,\n    duration: theme.transitions.duration.enteringScreen\n  })), _ref2));\n});\n\nvar OrganisationList = function OrganisationList() {\n  _s();\n\n  var _useTranslation = useTranslation(),\n      t = _useTranslation.t;\n\n  var dispatch = useDispatch();\n\n  var _useAuth = useAuth(),\n      user = _useAuth.user;\n\n  var rootRef = useRef(null);\n\n  var _useSelector = useSelector(function (state) {\n    return state.organisations;\n  }),\n      organisations = _useSelector.organisations;\n\n  var _useState = useState({\n    isOpen: false,\n    organisationId: null\n  }),\n      drawer = _useState[0],\n      setDrawer = _useState[1];\n\n  var handleOpenDrawer = function handleOpenDrawer(params) {\n    setDrawer({\n      isOpen: true,\n      organisationId: params.row.id\n    });\n  };\n\n  useEffect( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return organisationApi.getOrganisationsByUser(user, dispatch);\n\n          case 3:\n            _context.next = 8;\n            break;\n\n          case 5:\n            _context.prev = 5;\n            _context.t0 = _context[\"catch\"](0);\n            console.log(_context.t0);\n\n          case 8:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[0, 5]]);\n  })), []);\n\n  var handleCloseDrawer = function handleCloseDrawer() {\n    setDrawer({\n      isOpen: false,\n      organisationId: null\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Head, {\n      children: /*#__PURE__*/_jsxDEV(\"title\", {\n        children: \"Dashboard: Organisation List | Truckar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(Box, {\n      component: \"main\",\n      ref: rootRef,\n      sx: {\n        backgroundColor: \"background.paper\",\n        display: \"flex\",\n        flexGrow: 1,\n        overflow: \"hidden\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(OrganisationListInner, {\n        open: drawer.isOpen,\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            px: 3\n          },\n          children: /*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            justifyContent: \"space-between\",\n            spacing: 3,\n            children: [/*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              children: /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h4\",\n                children: t(\"Organisations\")\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 17\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              children: /*#__PURE__*/_jsxDEV(NextLink, {\n                href: \"/dashboard/organisations/new\",\n                passHref: true,\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  component: \"a\",\n                  startIcon: /*#__PURE__*/_jsxDEV(PlusIcon, {\n                    fontSize: \"small\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 103,\n                    columnNumber: 32\n                  }, _this),\n                  variant: \"contained\",\n                  children: \"Add\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 101,\n                  columnNumber: 19\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 100,\n                columnNumber: 17\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 15\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            mt: 3,\n            px: 3,\n            height: \"70vh\",\n            width: \"100%\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(OrganisationGrid, {\n            onOpenDrawer: handleOpenDrawer,\n            organisations: organisations\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 13\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(OrganisationDrawer, {\n        containerRef: rootRef,\n        onClose: handleCloseDrawer,\n        open: drawer.isOpen,\n        organisation: organisations.find(function (organisation) {\n          return organisation.id === drawer.organisationId;\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, _this)]\n  }, void 0, true);\n};\n\n_s(OrganisationList, \"qqoQuhUs3ydt+bxas/fOnf0I51o=\", false, function () {\n  return [useTranslation, useDispatch, useAuth, useSelector];\n});\n\n_c = OrganisationList;\n\nOrganisationList.getLayout = function (page) {\n  return /*#__PURE__*/_jsxDEV(AuthGuard, {\n    children: /*#__PURE__*/_jsxDEV(OnBoardingGuard, {\n      children: /*#__PURE__*/_jsxDEV(DashboardLayout, {\n        children: page\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 7\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 5\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 134,\n    columnNumber: 3\n  }, _this);\n};\n\nexport default OrganisationList;\n\nvar _c;\n\n$RefreshReg$(_c, \"OrganisationList\");","map":{"version":3,"sources":["/Users/pulkitshah/Desktop/truckarv2/renderer/pages/dashboard/organisations/index.js"],"names":["useEffect","useRef","useState","NextLink","Head","useTranslation","Box","Button","Divider","Grid","Typography","styled","useDispatch","useSelector","organisationApi","AuthGuard","OnBoardingGuard","DashboardLayout","OrganisationDrawer","OrganisationGrid","useAuth","Plus","PlusIcon","gtm","OrganisationListInner","shouldForwardProp","prop","theme","open","flexGrow","overflow","paddingBottom","spacing","paddingTop","zIndex","breakpoints","up","marginRight","transitions","create","easing","sharp","duration","leavingScreen","easeOut","enteringScreen","OrganisationList","t","dispatch","user","rootRef","state","organisations","isOpen","organisationId","drawer","setDrawer","handleOpenDrawer","params","row","id","getOrganisationsByUser","console","log","handleCloseDrawer","backgroundColor","display","px","mt","height","width","find","organisation","getLayout","page"],"mappings":"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","sourcesContent":["import { useEffect, useRef, useState } from \"react\";\nimport NextLink from \"next/link\";\nimport Head from \"next/head\";\nimport { useTranslation } from \"react-i18next\";\nimport { Box, Button, Divider, Grid, Typography } from \"@mui/material\";\nimport { styled } from \"@mui/material/styles\";\nimport { useDispatch, useSelector } from \"../../../store\";\nimport { organisationApi } from \"../../../api/organisation-api\";\nimport { AuthGuard } from \"../../../components/authentication/auth-guard\";\nimport { OnBoardingGuard } from \"../../../components/authentication/onboarding-guard\";\nimport { DashboardLayout } from \"../../../components/dashboard/dashboard-layout\";\nimport { OrganisationDrawer } from \"../../../components/dashboard/organisation/organisation-drawer\";\nimport OrganisationGrid from \"../../../components/dashboard/organisation/organisation-grid\";\nimport { useAuth } from \"../../../hooks/use-auth\";\nimport { Plus as PlusIcon } from \"../../../icons/plus\";\nimport { gtm } from \"../../../lib/gtm\";\n\nconst OrganisationListInner = styled(\"div\", {\n  shouldForwardProp: (prop) => prop !== \"open\",\n})(({ theme, open }) => ({\n  flexGrow: 1,\n  overflow: \"hidden\",\n  paddingBottom: theme.spacing(8),\n  paddingTop: theme.spacing(8),\n  zIndex: 1,\n  [theme.breakpoints.up(\"lg\")]: {\n    marginRight: -500,\n  },\n  transition: theme.transitions.create(\"margin\", {\n    easing: theme.transitions.easing.sharp,\n    duration: theme.transitions.duration.leavingScreen,\n  }),\n  ...(open && {\n    [theme.breakpoints.up(\"lg\")]: {\n      marginRight: 0,\n    },\n    transition: theme.transitions.create(\"margin\", {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  }),\n}));\n\nconst OrganisationList = () => {\n  const { t } = useTranslation();\n  const dispatch = useDispatch();\n  const { user } = useAuth();\n  const rootRef = useRef(null);\n  const { organisations } = useSelector((state) => state.organisations);\n\n  const [drawer, setDrawer] = useState({\n    isOpen: false,\n    organisationId: null,\n  });\n\n  const handleOpenDrawer = (params) => {\n    setDrawer({\n      isOpen: true,\n      organisationId: params.row.id,\n    });\n  };\n\n  useEffect(async () => {\n    try {\n      await organisationApi.getOrganisationsByUser(user, dispatch);\n    } catch (error) {\n      console.log(error);\n    }\n  }, []);\n\n  const handleCloseDrawer = () => {\n    setDrawer({\n      isOpen: false,\n      organisationId: null,\n    });\n  };\n\n  return (\n    <>\n      <Head>\n        <title>Dashboard: Organisation List | Truckar</title>\n      </Head>\n      <Box\n        component=\"main\"\n        ref={rootRef}\n        sx={{\n          backgroundColor: \"background.paper\",\n          display: \"flex\",\n          flexGrow: 1,\n          overflow: \"hidden\",\n        }}\n      >\n        <OrganisationListInner open={drawer.isOpen}>\n          <Box sx={{ px: 3 }}>\n            <Grid container justifyContent=\"space-between\" spacing={3}>\n              <Grid item>\n                <Typography variant=\"h4\">{t(\"Organisations\")}</Typography>\n              </Grid>\n              <Grid item>\n                <NextLink href=\"/dashboard/organisations/new\" passHref>\n                  <Button\n                    component=\"a\"\n                    startIcon={<PlusIcon fontSize=\"small\" />}\n                    variant=\"contained\"\n                  >\n                    Add\n                  </Button>\n                </NextLink>\n              </Grid>\n            </Grid>\n          </Box>\n          <Box sx={{ mt: 3, px: 3, height: \"70vh\", width: \"100%\" }}>\n            <Divider />\n            <OrganisationGrid\n              onOpenDrawer={handleOpenDrawer}\n              organisations={organisations}\n            />\n          </Box>\n        </OrganisationListInner>\n        <OrganisationDrawer\n          containerRef={rootRef}\n          onClose={handleCloseDrawer}\n          open={drawer.isOpen}\n          organisation={organisations.find(\n            (organisation) => organisation.id === drawer.organisationId\n          )}\n        />\n      </Box>\n    </>\n  );\n};\n\nOrganisationList.getLayout = (page) => (\n  <AuthGuard>\n    <OnBoardingGuard>\n      <DashboardLayout>{page}</DashboardLayout>\n    </OnBoardingGuard>\n  </AuthGuard>\n);\n\nexport default OrganisationList;\n"]},"metadata":{},"sourceType":"module"}