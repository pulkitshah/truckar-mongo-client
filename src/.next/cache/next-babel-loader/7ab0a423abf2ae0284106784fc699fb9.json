{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/pulkitshah/Desktop/truckarv2/renderer/components/dashboard/autocompletes/google-places-autocomplete.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React from \"react\";\nimport LocationOnIcon from \"@material-ui/icons/LocationOn\";\nimport { Grid, TextField, Typography } from \"@mui/material\";\nimport Autocomplete from \"@mui/material/Autocomplete\";\nimport parse from \"autosuggest-highlight/parse\";\nimport throttle from \"lodash/throttle\";\n\nfunction loadScript(src, position, id) {\n  if (!position) {\n    return;\n  }\n\n  const script = document.createElement(\"script\");\n  script.setAttribute(\"async\", \"\");\n  script.setAttribute(\"id\", id);\n  script.src = src;\n  position.appendChild(script);\n}\n\nconst autocompleteService = {\n  current: null\n};\nconst useStyles = makeStyles(theme => ({\n  icon: {\n    color: theme.palette.text.secondary,\n    marginRight: theme.spacing(2)\n  }\n}));\nexport default function GoogleMaps({\n  name,\n  touched,\n  error,\n  index,\n  handleBlur,\n  setFieldValue,\n  field,\n  values\n}) {\n  const classes = useStyles();\n  const [value, setValue] = React.useState(values[field] ? values[field] : null);\n  const [inputValue, setInputValue] = React.useState(\"\");\n  const [options, setOptions] = React.useState([]);\n  const loaded = React.useRef(false);\n\n  if (false && !loaded.current) {\n    if (!document.querySelector(\"#google-maps\")) {\n      loadScript(\"https://maps.googleapis.com/maps/api/js?key=AIzaSyDxGCC86EWkjtOccLqVDZKcw-yii2YHcmU&libraries=places\", document.querySelector(\"head\"), \"google-maps\");\n    }\n\n    loaded.current = true;\n  } // setValue()\n\n\n  const fetch = React.useMemo(() => throttle((request, callback) => {\n    autocompleteService.current.getPlacePredictions(request, callback);\n  }, 200), []);\n  React.useEffect(() => {\n    let active = true;\n\n    if (!autocompleteService.current && window.google) {\n      autocompleteService.current = new window.google.maps.places.AutocompleteService();\n    }\n\n    if (!autocompleteService.current) {\n      return undefined;\n    }\n\n    if (inputValue === \"\") {\n      setOptions(value ? [value] : []);\n      return undefined;\n    }\n\n    fetch({\n      input: inputValue,\n      types: [\"(cities)\"],\n      componentRestrictions: {\n        country: \"in\"\n      },\n      fields: [\"address_components\", \"geometry\", \"icon\", \"name\"]\n    }, results => {\n      if (active) {\n        let newOptions = [];\n\n        if (value) {\n          newOptions = [value];\n        }\n\n        if (results) {\n          newOptions = [...newOptions, ...results];\n        }\n\n        setOptions(newOptions);\n      }\n    });\n    return () => {\n      active = false;\n    };\n  }, [value, inputValue, fetch]);\n  return /*#__PURE__*/_jsxDEV(Autocomplete, {\n    required: true,\n    autoSelect: true,\n    blurOnSelect: true,\n    id: `places[${index}]`,\n    onBlur: handleBlur,\n    getOptionLabel: option => typeof option === \"string\" ? option : option.structured_formatting.main_text,\n    filterOptions: x => x,\n    options: options,\n    autoComplete: true,\n    includeInputInList: true,\n    filterSelectedOptions: true,\n    value: value,\n    onChange: (event, newValue) => {\n      var geocoder = new window.google.maps.Geocoder();\n\n      if (newValue) {\n        geocoder.geocode({\n          placeId: newValue.place_id\n        }, function (results, status) {\n          if (status === window.google.maps.GeocoderStatus.OK) {\n            setFieldValue(`${field}.latitude`, results[0].geometry.location.lat());\n            setFieldValue(`${field}.longitude`, results[0].geometry.location.lng());\n            setFieldValue(`${field}.description`, newValue.description);\n            setFieldValue(`${field}.structured_formatting`, newValue.structured_formatting);\n            setFieldValue(`${field}.place_id`, newValue.place_id);\n          } else {\n            alert(\"Can't find address: \" + status);\n          }\n        });\n      }\n\n      setOptions(newValue ? [newValue, ...options] : options);\n      setValue(newValue);\n    },\n    onInputChange: (event, newInputValue) => {\n      setInputValue(newInputValue);\n    },\n    renderInput: params => /*#__PURE__*/_jsxDEV(TextField, _objectSpread(_objectSpread({}, params), {}, {\n      name: name,\n      label: \"City\",\n      variant: \"outlined\",\n      fullWidth: true,\n      helperText: touched && error ? error : \"\",\n      error: Boolean(touched && error)\n    }), void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 9\n    }, this),\n    renderOption: option => {\n      const matches = option.structured_formatting.main_text_matched_substrings;\n      const parts = parse(option.structured_formatting.main_text, matches.map(match => [match.offset, match.offset + match.length]));\n      return /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        alignItems: \"center\",\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          children: /*#__PURE__*/_jsxDEV(LocationOnIcon, {\n            className: classes.icon\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: true,\n          children: [parts.map((part, index) => /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              fontWeight: part.highlight ? 700 : 400\n            },\n            children: part.text\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 17\n          }, this)), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            color: \"textSecondary\",\n            children: option.structured_formatting.secondary_text\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 11\n      }, this);\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 115,\n    columnNumber: 5\n  }, this);\n}","map":{"version":3,"sources":["/Users/pulkitshah/Desktop/truckarv2/renderer/components/dashboard/autocompletes/google-places-autocomplete.js"],"names":["React","LocationOnIcon","Grid","TextField","Typography","Autocomplete","parse","throttle","loadScript","src","position","id","script","document","createElement","setAttribute","appendChild","autocompleteService","current","useStyles","makeStyles","theme","icon","color","palette","text","secondary","marginRight","spacing","GoogleMaps","name","touched","error","index","handleBlur","setFieldValue","field","values","classes","value","setValue","useState","inputValue","setInputValue","options","setOptions","loaded","useRef","querySelector","fetch","useMemo","request","callback","getPlacePredictions","useEffect","active","window","google","maps","places","AutocompleteService","undefined","input","types","componentRestrictions","country","fields","results","newOptions","option","structured_formatting","main_text","x","event","newValue","geocoder","Geocoder","geocode","placeId","place_id","status","GeocoderStatus","OK","geometry","location","lat","lng","description","alert","newInputValue","params","Boolean","matches","main_text_matched_substrings","parts","map","match","offset","length","part","fontWeight","highlight","secondary_text"],"mappings":"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","sourcesContent":["import React from \"react\";\n\nimport LocationOnIcon from \"@material-ui/icons/LocationOn\";\n\nimport { Grid, TextField, Typography } from \"@mui/material\";\nimport Autocomplete from \"@mui/material/Autocomplete\";\nimport parse from \"autosuggest-highlight/parse\";\nimport throttle from \"lodash/throttle\";\n\nfunction loadScript(src, position, id) {\n  if (!position) {\n    return;\n  }\n\n  const script = document.createElement(\"script\");\n  script.setAttribute(\"async\", \"\");\n  script.setAttribute(\"id\", id);\n  script.src = src;\n  position.appendChild(script);\n}\n\nconst autocompleteService = { current: null };\n\nconst useStyles = makeStyles((theme) => ({\n  icon: {\n    color: theme.palette.text.secondary,\n    marginRight: theme.spacing(2),\n  },\n}));\n\nexport default function GoogleMaps({\n  name,\n  touched,\n  error,\n  index,\n  handleBlur,\n  setFieldValue,\n  field,\n  values,\n}) {\n  const classes = useStyles();\n  const [value, setValue] = React.useState(\n    values[field] ? values[field] : null\n  );\n  const [inputValue, setInputValue] = React.useState(\"\");\n  const [options, setOptions] = React.useState([]);\n  const loaded = React.useRef(false);\n\n  if (typeof window !== \"undefined\" && !loaded.current) {\n    if (!document.querySelector(\"#google-maps\")) {\n      loadScript(\n        \"https://maps.googleapis.com/maps/api/js?key=AIzaSyDxGCC86EWkjtOccLqVDZKcw-yii2YHcmU&libraries=places\",\n        document.querySelector(\"head\"),\n        \"google-maps\"\n      );\n    }\n\n    loaded.current = true;\n  }\n  // setValue()\n\n  const fetch = React.useMemo(\n    () =>\n      throttle((request, callback) => {\n        autocompleteService.current.getPlacePredictions(request, callback);\n      }, 200),\n    []\n  );\n\n  React.useEffect(() => {\n    let active = true;\n\n    if (!autocompleteService.current && window.google) {\n      autocompleteService.current =\n        new window.google.maps.places.AutocompleteService();\n    }\n    if (!autocompleteService.current) {\n      return undefined;\n    }\n\n    if (inputValue === \"\") {\n      setOptions(value ? [value] : []);\n      return undefined;\n    }\n\n    fetch(\n      {\n        input: inputValue,\n        types: [\"(cities)\"],\n        componentRestrictions: { country: \"in\" },\n        fields: [\"address_components\", \"geometry\", \"icon\", \"name\"],\n      },\n      (results) => {\n        if (active) {\n          let newOptions = [];\n\n          if (value) {\n            newOptions = [value];\n          }\n\n          if (results) {\n            newOptions = [...newOptions, ...results];\n          }\n          setOptions(newOptions);\n        }\n      }\n    );\n\n    return () => {\n      active = false;\n    };\n  }, [value, inputValue, fetch]);\n\n  return (\n    <Autocomplete\n      required\n      autoSelect={true}\n      blurOnSelect={true}\n      id={`places[${index}]`}\n      onBlur={handleBlur}\n      getOptionLabel={(option) =>\n        typeof option === \"string\"\n          ? option\n          : option.structured_formatting.main_text\n      }\n      filterOptions={(x) => x}\n      options={options}\n      autoComplete\n      includeInputInList\n      filterSelectedOptions\n      value={value}\n      onChange={(event, newValue) => {\n        var geocoder = new window.google.maps.Geocoder();\n        if (newValue) {\n          geocoder.geocode(\n            { placeId: newValue.place_id },\n            function (results, status) {\n              if (status === window.google.maps.GeocoderStatus.OK) {\n                setFieldValue(\n                  `${field}.latitude`,\n                  results[0].geometry.location.lat()\n                );\n                setFieldValue(\n                  `${field}.longitude`,\n                  results[0].geometry.location.lng()\n                );\n                setFieldValue(`${field}.description`, newValue.description);\n                setFieldValue(\n                  `${field}.structured_formatting`,\n                  newValue.structured_formatting\n                );\n                setFieldValue(`${field}.place_id`, newValue.place_id);\n              } else {\n                alert(\"Can't find address: \" + status);\n              }\n            }\n          );\n        }\n\n        setOptions(newValue ? [newValue, ...options] : options);\n        setValue(newValue);\n      }}\n      onInputChange={(event, newInputValue) => {\n        setInputValue(newInputValue);\n      }}\n      renderInput={(params) => (\n        <TextField\n          {...params}\n          name={name}\n          label={\"City\"}\n          variant=\"outlined\"\n          fullWidth\n          helperText={touched && error ? error : \"\"}\n          error={Boolean(touched && error)}\n        />\n      )}\n      renderOption={(option) => {\n        const matches =\n          option.structured_formatting.main_text_matched_substrings;\n        const parts = parse(\n          option.structured_formatting.main_text,\n          matches.map((match) => [match.offset, match.offset + match.length])\n        );\n\n        return (\n          <Grid container alignItems=\"center\">\n            <Grid item>\n              <LocationOnIcon className={classes.icon} />\n            </Grid>\n            <Grid item xs>\n              {parts.map((part, index) => (\n                <span\n                  key={index}\n                  style={{\n                    fontWeight: part.highlight ? 700 : 400,\n                  }}\n                >\n                  {part.text}\n                </span>\n              ))}\n\n              <Typography variant=\"body2\" color=\"textSecondary\">\n                {option.structured_formatting.secondary_text}\n              </Typography>\n            </Grid>\n          </Grid>\n        );\n      }}\n    />\n  );\n}\n"]},"metadata":{},"sourceType":"module"}