{"ast":null,"code":"import _defineProperty from \"/Users/pulkitshah/Desktop/truckarv2/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"/Users/pulkitshah/Desktop/truckarv2/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/pulkitshah/Desktop/truckarv2/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/pulkitshah/Desktop/truckarv2/node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/pulkitshah/Desktop/truckarv2/renderer/pages/dashboard/parties/index.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { useState, useEffect, useCallback, useRef } from \"react\";\nimport NextLink from \"next/link\";\nimport Head from \"next/head\";\nimport { Box, Button, Card, Container, Divider, Grid, InputAdornment, Tab, Tabs, TextField, Typography } from \"@mui/material\";\nimport { partyApi } from \"../../../api/party-api\";\nimport { AuthGuard } from \"../../../components/authentication/auth-guard\";\nimport { DashboardLayout } from \"../../../components/dashboard/dashboard-layout\";\nimport { PartyListTable } from \"../../../components/dashboard/party/party-list-table\";\nimport { useMounted } from \"../../../hooks/use-mounted\";\nimport { Download as DownloadIcon } from \"../../../icons/download\";\nimport { Plus as PlusIcon } from \"../../../icons/plus\";\nimport { Search as SearchIcon } from \"../../../icons/search\";\nimport { Upload as UploadIcon } from \"../../../icons/upload\";\nimport { gtm } from \"../../../lib/gtm\";\nvar tabs = [{\n  label: \"All\",\n  value: \"all\"\n}, {\n  label: \"Accepts Marketing\",\n  value: \"hasAcceptedMarketing\"\n}, {\n  label: \"Prospect\",\n  value: \"isProspect\"\n}, {\n  label: \"Returning\",\n  value: \"isReturning\"\n}];\nvar sortOptions = [{\n  label: \"Last update (newest)\",\n  value: \"updatedAt|desc\"\n}, {\n  label: \"Last update (oldest)\",\n  value: \"updatedAt|asc\"\n}, {\n  label: \"Total orders (highest)\",\n  value: \"orders|desc\"\n}, {\n  label: \"Total orders (lowest)\",\n  value: \"orders|asc\"\n}];\n\nvar applyFilters = function applyFilters(parties, filters) {\n  return parties.filter(function (party) {\n    if (filters.query) {\n      var queryMatched = false;\n      var properties = [\"email\", \"name\"];\n      properties.forEach(function (property) {\n        if (party[property].toLowerCase().includes(filters.query.toLowerCase())) {\n          queryMatched = true;\n        }\n      });\n\n      if (!queryMatched) {\n        return false;\n      }\n    }\n\n    if (filters.hasAcceptedMarketing && !party.hasAcceptedMarketing) {\n      return false;\n    }\n\n    if (filters.isProspect && !party.isProspect) {\n      return false;\n    }\n\n    if (filters.isReturning && !party.isReturning) {\n      return false;\n    }\n\n    return true;\n  });\n};\n\nvar descendingComparator = function descendingComparator(a, b, orderBy) {\n  if (b[orderBy] < a[orderBy]) {\n    return -1;\n  }\n\n  if (b[orderBy] > a[orderBy]) {\n    return 1;\n  }\n\n  return 0;\n};\n\nvar getComparator = function getComparator(order, orderBy) {\n  return order === \"desc\" ? function (a, b) {\n    return descendingComparator(a, b, orderBy);\n  } : function (a, b) {\n    return -descendingComparator(a, b, orderBy);\n  };\n};\n\nvar applySort = function applySort(parties, sort) {\n  var _sort$split = sort.split(\"|\"),\n      _sort$split2 = _slicedToArray(_sort$split, 2),\n      orderBy = _sort$split2[0],\n      order = _sort$split2[1];\n\n  var comparator = getComparator(order, orderBy);\n  var stabilizedThis = parties.map(function (el, index) {\n    return [el, index];\n  });\n  stabilizedThis.sort(function (a, b) {\n    var newOrder = comparator(a[0], b[0]);\n\n    if (newOrder !== 0) {\n      return newOrder;\n    }\n\n    return a[1] - b[1];\n  });\n  return stabilizedThis.map(function (el) {\n    return el[0];\n  });\n};\n\nvar applyPagination = function applyPagination(parties, page, rowsPerPage) {\n  return parties.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage);\n};\n\nvar PartyList = function PartyList() {\n  _s();\n\n  var isMounted = useMounted();\n  var queryRef = useRef(null);\n\n  var _useState = useState([]),\n      parties = _useState[0],\n      setParties = _useState[1];\n\n  var _useState2 = useState(\"all\"),\n      currentTab = _useState2[0],\n      setCurrentTab = _useState2[1];\n\n  var _useState3 = useState(0),\n      page = _useState3[0],\n      setPage = _useState3[1];\n\n  var _useState4 = useState(10),\n      rowsPerPage = _useState4[0],\n      setRowsPerPage = _useState4[1];\n\n  var _useState5 = useState(sortOptions[0].value),\n      sort = _useState5[0],\n      setSort = _useState5[1];\n\n  var _useState6 = useState({\n    query: \"\",\n    hasAcceptedMarketing: null,\n    isProspect: null,\n    isReturning: null\n  }),\n      filters = _useState6[0],\n      setFilters = _useState6[1];\n\n  useEffect(function () {\n    gtm.push({\n      event: \"page_view\"\n    });\n  }, []);\n  var getParties = useCallback( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    var data;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return partyApi.getPartiesByUser();\n\n          case 3:\n            data = _context.sent;\n            console.log(data);\n\n            if (isMounted()) {\n              setParties(data);\n            }\n\n            _context.next = 11;\n            break;\n\n          case 8:\n            _context.prev = 8;\n            _context.t0 = _context[\"catch\"](0);\n            console.error(_context.t0);\n\n          case 11:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[0, 8]]);\n  })), [isMounted]);\n  useEffect(function () {\n    getParties();\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\n  []);\n\n  var handleTabsChange = function handleTabsChange(event, value) {\n    var updatedFilters = _objectSpread(_objectSpread({}, filters), {}, {\n      hasAcceptedMarketing: null,\n      isProspect: null,\n      isReturning: null\n    });\n\n    if (value !== \"all\") {\n      updatedFilters[value] = true;\n    }\n\n    setFilters(updatedFilters);\n    setCurrentTab(value);\n  };\n\n  var handleQueryChange = function handleQueryChange(event) {\n    event.preventDefault();\n    setFilters(function (prevState) {\n      var _queryRef$current;\n\n      return _objectSpread(_objectSpread({}, prevState), {}, {\n        query: (_queryRef$current = queryRef.current) === null || _queryRef$current === void 0 ? void 0 : _queryRef$current.value\n      });\n    });\n  };\n\n  var handleSortChange = function handleSortChange(event) {\n    setSort(event.target.value);\n  };\n\n  var handlePageChange = function handlePageChange(event, newPage) {\n    setPage(newPage);\n  };\n\n  var handleRowsPerPageChange = function handleRowsPerPageChange(event) {\n    setRowsPerPage(parseInt(event.target.value, 10));\n  }; // Usually query is done on backend with indexing solutions\n\n\n  var filteredParties = applyFilters(parties, filters);\n  var sortedParties = applySort(filteredParties, sort);\n  var paginatedParties = applyPagination(sortedParties, page, rowsPerPage);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Head, {\n      children: /*#__PURE__*/_jsxDEV(\"title\", {\n        children: \"Dashboard: Party List | Material Kit Pro\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(Box, {\n      component: \"main\",\n      sx: {\n        flexGrow: 1,\n        py: 8\n      },\n      children: /*#__PURE__*/_jsxDEV(Container, {\n        maxWidth: \"xl\",\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            mb: 4\n          },\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            justifyContent: \"space-between\",\n            spacing: 3,\n            children: [/*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              children: /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h4\",\n                children: \"Parties\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 234,\n                columnNumber: 17\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              children: /*#__PURE__*/_jsxDEV(NextLink, {\n                href: \"/dashboard/parties/new\",\n                passHref: true,\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  component: \"a\",\n                  startIcon: /*#__PURE__*/_jsxDEV(PlusIcon, {\n                    fontSize: \"small\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 240,\n                    columnNumber: 32\n                  }, _this),\n                  variant: \"contained\",\n                  children: \"Add\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 238,\n                  columnNumber: 19\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 237,\n                columnNumber: 17\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 15\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              m: -1,\n              mt: 3\n            },\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              startIcon: /*#__PURE__*/_jsxDEV(UploadIcon, {\n                fontSize: \"small\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 254,\n                columnNumber: 34\n              }, _this),\n              sx: {\n                m: 1\n              },\n              children: \"Import\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 254,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(Button, {\n              startIcon: /*#__PURE__*/_jsxDEV(DownloadIcon, {\n                fontSize: \"small\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 258,\n                columnNumber: 28\n              }, _this),\n              sx: {\n                m: 1\n              },\n              children: \"Export\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 257,\n              columnNumber: 15\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 13\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(Card, {\n          children: [/*#__PURE__*/_jsxDEV(Tabs, {\n            indicatorColor: \"primary\",\n            onChange: handleTabsChange,\n            scrollButtons: \"auto\",\n            sx: {\n              px: 3\n            },\n            textColor: \"primary\",\n            value: currentTab,\n            variant: \"scrollable\",\n            children: tabs.map(function (tab) {\n              return /*#__PURE__*/_jsxDEV(Tab, {\n                label: tab.label,\n                value: tab.value\n              }, tab.value, false, {\n                fileName: _jsxFileName,\n                lineNumber: 276,\n                columnNumber: 17\n              }, _this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              alignItems: \"center\",\n              display: \"flex\",\n              flexWrap: \"wrap\",\n              m: -1.5,\n              p: 3\n            },\n            children: [/*#__PURE__*/_jsxDEV(Box, {\n              component: \"form\",\n              onSubmit: handleQueryChange,\n              sx: {\n                flexGrow: 1,\n                m: 1.5\n              },\n              children: /*#__PURE__*/_jsxDEV(TextField, {\n                defaultValue: \"\",\n                fullWidth: true,\n                inputProps: {\n                  ref: queryRef\n                },\n                InputProps: {\n                  startAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n                    position: \"start\",\n                    children: /*#__PURE__*/_jsxDEV(SearchIcon, {\n                      fontSize: \"small\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 304,\n                      columnNumber: 25\n                    }, _this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 303,\n                    columnNumber: 23\n                  }, _this)\n                },\n                placeholder: \"Search parties\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 297,\n                columnNumber: 17\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 289,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(TextField, {\n              label: \"Sort By\",\n              name: \"sort\",\n              onChange: handleSortChange,\n              select: true,\n              SelectProps: {\n                \"native\": true\n              },\n              sx: {\n                m: 1.5\n              },\n              value: sort,\n              children: sortOptions.map(function (option) {\n                return /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: option.value,\n                  children: option.label\n                }, option.value, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 321,\n                  columnNumber: 19\n                }, _this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 311,\n              columnNumber: 15\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(PartyListTable, {\n            parties: paginatedParties,\n            partiesCount: filteredParties.length,\n            onPageChange: handlePageChange,\n            onRowsPerPageChange: handleRowsPerPageChange,\n            rowsPerPage: rowsPerPage,\n            page: page\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 327,\n            columnNumber: 13\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 7\n    }, _this)]\n  }, void 0, true);\n};\n\n_s(PartyList, \"8XPkCT36lvJBTSwl2YupHWoZjjk=\", false, function () {\n  return [useMounted];\n});\n\n_c = PartyList;\n\nPartyList.getLayout = function (page) {\n  return /*#__PURE__*/_jsxDEV(AuthGuard, {\n    children: /*#__PURE__*/_jsxDEV(DashboardLayout, {\n      children: page\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 344,\n      columnNumber: 5\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 343,\n    columnNumber: 3\n  }, _this);\n};\n\nexport default PartyList;\n\nvar _c;\n\n$RefreshReg$(_c, \"PartyList\");","map":{"version":3,"sources":["/Users/pulkitshah/Desktop/truckarv2/renderer/pages/dashboard/parties/index.js"],"names":["useState","useEffect","useCallback","useRef","NextLink","Head","Box","Button","Card","Container","Divider","Grid","InputAdornment","Tab","Tabs","TextField","Typography","partyApi","AuthGuard","DashboardLayout","PartyListTable","useMounted","Download","DownloadIcon","Plus","PlusIcon","Search","SearchIcon","Upload","UploadIcon","gtm","tabs","label","value","sortOptions","applyFilters","parties","filters","filter","party","query","queryMatched","properties","forEach","property","toLowerCase","includes","hasAcceptedMarketing","isProspect","isReturning","descendingComparator","a","b","orderBy","getComparator","order","applySort","sort","split","comparator","stabilizedThis","map","el","index","newOrder","applyPagination","page","rowsPerPage","slice","PartyList","isMounted","queryRef","setParties","currentTab","setCurrentTab","setPage","setRowsPerPage","setSort","setFilters","push","event","getParties","getPartiesByUser","data","console","log","error","handleTabsChange","updatedFilters","handleQueryChange","preventDefault","prevState","current","handleSortChange","target","handlePageChange","newPage","handleRowsPerPageChange","parseInt","filteredParties","sortedParties","paginatedParties","flexGrow","py","mb","m","mt","px","tab","alignItems","display","flexWrap","p","ref","startAdornment","option","length","getLayout"],"mappings":"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","sourcesContent":["import { useState, useEffect, useCallback, useRef } from \"react\";\nimport NextLink from \"next/link\";\nimport Head from \"next/head\";\nimport {\n  Box,\n  Button,\n  Card,\n  Container,\n  Divider,\n  Grid,\n  InputAdornment,\n  Tab,\n  Tabs,\n  TextField,\n  Typography,\n} from \"@mui/material\";\nimport { partyApi } from \"../../../api/party-api\";\nimport { AuthGuard } from \"../../../components/authentication/auth-guard\";\nimport { DashboardLayout } from \"../../../components/dashboard/dashboard-layout\";\nimport { PartyListTable } from \"../../../components/dashboard/party/party-list-table\";\nimport { useMounted } from \"../../../hooks/use-mounted\";\nimport { Download as DownloadIcon } from \"../../../icons/download\";\nimport { Plus as PlusIcon } from \"../../../icons/plus\";\nimport { Search as SearchIcon } from \"../../../icons/search\";\nimport { Upload as UploadIcon } from \"../../../icons/upload\";\nimport { gtm } from \"../../../lib/gtm\";\n\nconst tabs = [\n  {\n    label: \"All\",\n    value: \"all\",\n  },\n  {\n    label: \"Accepts Marketing\",\n    value: \"hasAcceptedMarketing\",\n  },\n  {\n    label: \"Prospect\",\n    value: \"isProspect\",\n  },\n  {\n    label: \"Returning\",\n    value: \"isReturning\",\n  },\n];\n\nconst sortOptions = [\n  {\n    label: \"Last update (newest)\",\n    value: \"updatedAt|desc\",\n  },\n  {\n    label: \"Last update (oldest)\",\n    value: \"updatedAt|asc\",\n  },\n  {\n    label: \"Total orders (highest)\",\n    value: \"orders|desc\",\n  },\n  {\n    label: \"Total orders (lowest)\",\n    value: \"orders|asc\",\n  },\n];\n\nconst applyFilters = (parties, filters) =>\n  parties.filter((party) => {\n    if (filters.query) {\n      let queryMatched = false;\n      const properties = [\"email\", \"name\"];\n\n      properties.forEach((property) => {\n        if (\n          party[property].toLowerCase().includes(filters.query.toLowerCase())\n        ) {\n          queryMatched = true;\n        }\n      });\n\n      if (!queryMatched) {\n        return false;\n      }\n    }\n\n    if (filters.hasAcceptedMarketing && !party.hasAcceptedMarketing) {\n      return false;\n    }\n\n    if (filters.isProspect && !party.isProspect) {\n      return false;\n    }\n\n    if (filters.isReturning && !party.isReturning) {\n      return false;\n    }\n\n    return true;\n  });\n\nconst descendingComparator = (a, b, orderBy) => {\n  if (b[orderBy] < a[orderBy]) {\n    return -1;\n  }\n\n  if (b[orderBy] > a[orderBy]) {\n    return 1;\n  }\n\n  return 0;\n};\n\nconst getComparator = (order, orderBy) =>\n  order === \"desc\"\n    ? (a, b) => descendingComparator(a, b, orderBy)\n    : (a, b) => -descendingComparator(a, b, orderBy);\n\nconst applySort = (parties, sort) => {\n  const [orderBy, order] = sort.split(\"|\");\n  const comparator = getComparator(order, orderBy);\n  const stabilizedThis = parties.map((el, index) => [el, index]);\n\n  stabilizedThis.sort((a, b) => {\n    const newOrder = comparator(a[0], b[0]);\n\n    if (newOrder !== 0) {\n      return newOrder;\n    }\n\n    return a[1] - b[1];\n  });\n\n  return stabilizedThis.map((el) => el[0]);\n};\n\nconst applyPagination = (parties, page, rowsPerPage) =>\n  parties.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage);\n\nconst PartyList = () => {\n  const isMounted = useMounted();\n  const queryRef = useRef(null);\n  const [parties, setParties] = useState([]);\n  const [currentTab, setCurrentTab] = useState(\"all\");\n  const [page, setPage] = useState(0);\n  const [rowsPerPage, setRowsPerPage] = useState(10);\n  const [sort, setSort] = useState(sortOptions[0].value);\n  const [filters, setFilters] = useState({\n    query: \"\",\n    hasAcceptedMarketing: null,\n    isProspect: null,\n    isReturning: null,\n  });\n\n  useEffect(() => {\n    gtm.push({ event: \"page_view\" });\n  }, []);\n\n  const getParties = useCallback(async () => {\n    try {\n      const data = await partyApi.getPartiesByUser();\n      console.log(data);\n      if (isMounted()) {\n        setParties(data);\n      }\n    } catch (err) {\n      console.error(err);\n    }\n  }, [isMounted]);\n\n  useEffect(\n    () => {\n      getParties();\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    []\n  );\n\n  const handleTabsChange = (event, value) => {\n    const updatedFilters = {\n      ...filters,\n      hasAcceptedMarketing: null,\n      isProspect: null,\n      isReturning: null,\n    };\n\n    if (value !== \"all\") {\n      updatedFilters[value] = true;\n    }\n\n    setFilters(updatedFilters);\n    setCurrentTab(value);\n  };\n\n  const handleQueryChange = (event) => {\n    event.preventDefault();\n    setFilters((prevState) => ({\n      ...prevState,\n      query: queryRef.current?.value,\n    }));\n  };\n\n  const handleSortChange = (event) => {\n    setSort(event.target.value);\n  };\n\n  const handlePageChange = (event, newPage) => {\n    setPage(newPage);\n  };\n\n  const handleRowsPerPageChange = (event) => {\n    setRowsPerPage(parseInt(event.target.value, 10));\n  };\n\n  // Usually query is done on backend with indexing solutions\n  const filteredParties = applyFilters(parties, filters);\n  const sortedParties = applySort(filteredParties, sort);\n  const paginatedParties = applyPagination(sortedParties, page, rowsPerPage);\n\n  return (\n    <>\n      <Head>\n        <title>Dashboard: Party List | Material Kit Pro</title>\n      </Head>\n      <Box\n        component=\"main\"\n        sx={{\n          flexGrow: 1,\n          py: 8,\n        }}\n      >\n        <Container maxWidth=\"xl\">\n          <Box sx={{ mb: 4 }}>\n            <Grid container justifyContent=\"space-between\" spacing={3}>\n              <Grid item>\n                <Typography variant=\"h4\">Parties</Typography>\n              </Grid>\n              <Grid item>\n                <NextLink href=\"/dashboard/parties/new\" passHref>\n                  <Button\n                    component=\"a\"\n                    startIcon={<PlusIcon fontSize=\"small\" />}\n                    variant=\"contained\"\n                  >\n                    Add\n                  </Button>\n                </NextLink>\n              </Grid>\n            </Grid>\n            <Box\n              sx={{\n                m: -1,\n                mt: 3,\n              }}\n            >\n              <Button startIcon={<UploadIcon fontSize=\"small\" />} sx={{ m: 1 }}>\n                Import\n              </Button>\n              <Button\n                startIcon={<DownloadIcon fontSize=\"small\" />}\n                sx={{ m: 1 }}\n              >\n                Export\n              </Button>\n            </Box>\n          </Box>\n          <Card>\n            <Tabs\n              indicatorColor=\"primary\"\n              onChange={handleTabsChange}\n              scrollButtons=\"auto\"\n              sx={{ px: 3 }}\n              textColor=\"primary\"\n              value={currentTab}\n              variant=\"scrollable\"\n            >\n              {tabs.map((tab) => (\n                <Tab key={tab.value} label={tab.label} value={tab.value} />\n              ))}\n            </Tabs>\n            <Divider />\n            <Box\n              sx={{\n                alignItems: \"center\",\n                display: \"flex\",\n                flexWrap: \"wrap\",\n                m: -1.5,\n                p: 3,\n              }}\n            >\n              <Box\n                component=\"form\"\n                onSubmit={handleQueryChange}\n                sx={{\n                  flexGrow: 1,\n                  m: 1.5,\n                }}\n              >\n                <TextField\n                  defaultValue=\"\"\n                  fullWidth\n                  inputProps={{ ref: queryRef }}\n                  InputProps={{\n                    startAdornment: (\n                      <InputAdornment position=\"start\">\n                        <SearchIcon fontSize=\"small\" />\n                      </InputAdornment>\n                    ),\n                  }}\n                  placeholder=\"Search parties\"\n                />\n              </Box>\n              <TextField\n                label=\"Sort By\"\n                name=\"sort\"\n                onChange={handleSortChange}\n                select\n                SelectProps={{ native: true }}\n                sx={{ m: 1.5 }}\n                value={sort}\n              >\n                {sortOptions.map((option) => (\n                  <option key={option.value} value={option.value}>\n                    {option.label}\n                  </option>\n                ))}\n              </TextField>\n            </Box>\n            <PartyListTable\n              parties={paginatedParties}\n              partiesCount={filteredParties.length}\n              onPageChange={handlePageChange}\n              onRowsPerPageChange={handleRowsPerPageChange}\n              rowsPerPage={rowsPerPage}\n              page={page}\n            />\n          </Card>\n        </Container>\n      </Box>\n    </>\n  );\n};\n\nPartyList.getLayout = (page) => (\n  <AuthGuard>\n    <DashboardLayout>{page}</DashboardLayout>\n  </AuthGuard>\n);\n\nexport default PartyList;\n"]},"metadata":{},"sourceType":"module"}