{"ast":null,"code":"import { API } from \"aws-amplify\";\nimport { getUser } from \"../graphql/queries\";\nimport { updateUser } from \"../graphql/mutations\";\nimport { useAuth } from \"../hooks/use-auth\";\n\nclass UserApi {\n  async getUser(cognitoUser) {\n    const User = await API.graphql({\n      query: getUser,\n      variables: {\n        id: cognitoUser.username\n      }\n    });\n    return User;\n  }\n\n  async updateUser(updatedUser) {\n    const {\n      updateUser\n    } = useAuth();\n    const User = await API.graphql({\n      query: updateUser,\n      variables: {\n        input: updatedUser\n      },\n      authMode: \"AMAZON_COGNITO_USER_POOLS\"\n    }); // This function updates the user in Auth Context\n\n    return User;\n  }\n\n  async updateUserInLocalDB(updatedUser) {\n    updateUser(updatedUser);\n  }\n\n}\n\nexport const userApi = new UserApi();","map":{"version":3,"sources":["/Users/pulkitshah/Desktop/truckarv2/renderer/api/user-api.js"],"names":["API","getUser","updateUser","useAuth","UserApi","cognitoUser","User","graphql","query","variables","id","username","updatedUser","input","authMode","updateUserInLocalDB","userApi"],"mappings":"AAAA,SAASA,GAAT,QAAoB,aAApB;AACA,SAASC,OAAT,QAAwB,oBAAxB;AACA,SAASC,UAAT,QAA2B,sBAA3B;AACA,SAASC,OAAT,QAAwB,mBAAxB;;AAEA,MAAMC,OAAN,CAAc;AACZ,QAAMH,OAAN,CAAcI,WAAd,EAA2B;AACzB,UAAMC,IAAI,GAAG,MAAMN,GAAG,CAACO,OAAJ,CAAY;AAC7BC,MAAAA,KAAK,EAAEP,OADsB;AAE7BQ,MAAAA,SAAS,EAAE;AAAEC,QAAAA,EAAE,EAAEL,WAAW,CAACM;AAAlB;AAFkB,KAAZ,CAAnB;AAIA,WAAOL,IAAP;AACD;;AAED,QAAMJ,UAAN,CAAiBU,WAAjB,EAA8B;AAC5B,UAAM;AAAEV,MAAAA;AAAF,QAAiBC,OAAO,EAA9B;AACA,UAAMG,IAAI,GAAG,MAAMN,GAAG,CAACO,OAAJ,CAAY;AAC7BC,MAAAA,KAAK,EAAEN,UADsB;AAE7BO,MAAAA,SAAS,EAAE;AAAEI,QAAAA,KAAK,EAAED;AAAT,OAFkB;AAG7BE,MAAAA,QAAQ,EAAE;AAHmB,KAAZ,CAAnB,CAF4B,CAQ5B;;AAEA,WAAOR,IAAP;AACD;;AAED,QAAMS,mBAAN,CAA0BH,WAA1B,EAAuC;AACrCV,IAAAA,UAAU,CAACU,WAAD,CAAV;AACD;;AAxBW;;AA2Bd,OAAO,MAAMI,OAAO,GAAG,IAAIZ,OAAJ,EAAhB","sourcesContent":["import { API } from \"aws-amplify\";\nimport { getUser } from \"../graphql/queries\";\nimport { updateUser } from \"../graphql/mutations\";\nimport { useAuth } from \"../hooks/use-auth\";\n\nclass UserApi {\n  async getUser(cognitoUser) {\n    const User = await API.graphql({\n      query: getUser,\n      variables: { id: cognitoUser.username },\n    });\n    return User;\n  }\n\n  async updateUser(updatedUser) {\n    const { updateUser } = useAuth();\n    const User = await API.graphql({\n      query: updateUser,\n      variables: { input: updatedUser },\n      authMode: \"AMAZON_COGNITO_USER_POOLS\",\n    });\n\n    // This function updates the user in Auth Context\n\n    return User;\n  }\n\n  async updateUserInLocalDB(updatedUser) {\n    updateUser(updatedUser);\n  }\n}\n\nexport const userApi = new UserApi();\n"]},"metadata":{},"sourceType":"module"}