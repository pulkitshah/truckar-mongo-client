{"ast":null,"code":"import _defineProperty from \"/Users/pulkitshah/Desktop/truckarv2/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"/Users/pulkitshah/Desktop/truckarv2/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/pulkitshah/Desktop/truckarv2/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/pulkitshah/Desktop/truckarv2/renderer/components/dashboard/party/party-address-form.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { useRouter } from \"next/router\";\nimport toast from \"react-hot-toast\";\nimport * as Yup from \"yup\";\nimport { useFormik } from \"formik\";\nimport { Box, Button, TextField, Typography } from \"@mui/material\";\nimport { useAuth } from \"../../../hooks/use-auth\";\nimport { partyApi } from \"../../../api/party-api\";\nimport { useDispatch } from \"../../../store\";\nimport GoogleMaps from \"./google-places-autocomplete\";\nexport var PartyAddressForm = function PartyAddressForm(_ref) {\n  _s();\n\n  var party = _ref.party,\n      address = _ref.address,\n      toggleStatus = _ref.toggleStatus,\n      type = _ref.type;\n  var router = useRouter();\n  var dispatch = useDispatch();\n\n  var _useAuth = useAuth(),\n      user = _useAuth.user;\n\n  var formik = useFormik({\n    initialValues: {\n      name: address.name || \"\",\n      gstin: address.gstin || \"\",\n      pan: address.pan || \"\",\n      billingAddressLine1: address.billingAddressLine1 || \"\",\n      billingAddressLine2: address.billingAddressLine2 || \"\",\n      city: address.city || \"\",\n      user: user.id,\n      submit: null\n    },\n    onSubmit: function () {\n      var _onSubmit = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(values, helpers) {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n\n                if (!(type === \"new\")) {\n                  _context.next = 6;\n                  break;\n                }\n\n                _context.next = 4;\n                return partyApi.createPartyAddress(values, dispatch);\n\n              case 4:\n                _context.next = 8;\n                break;\n\n              case 6:\n                _context.next = 8;\n                return partyApi.updatePartyAddress(values, dispatch);\n\n              case 8:\n                toggleStatus();\n                toast.success(\"Party updated!\");\n                onCancel();\n                _context.next = 20;\n                break;\n\n              case 13:\n                _context.prev = 13;\n                _context.t0 = _context[\"catch\"](0);\n                console.error(_context.t0);\n                toast.error(\"Something went wrong!\");\n                helpers.setStatus({\n                  success: false\n                });\n                helpers.setErrors({\n                  submit: _context.t0.message\n                });\n                helpers.setSubmitting(false);\n\n              case 20:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[0, 13]]);\n      }));\n\n      function onSubmit(_x, _x2) {\n        return _onSubmit.apply(this, arguments);\n      }\n\n      return onSubmit;\n    }()\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"form\", _objectSpread(_objectSpread({\n      onSubmit: formik.handleSubmit\n    }, props), {}, {\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          alignItems: \"center\",\n          backgroundColor: function backgroundColor(theme) {\n            return theme.palette.mode === \"dark\" ? \"neutral.800\" : \"neutral.100\";\n          },\n          bpartyRadius: 1,\n          display: \"flex\",\n          flexWrap: \"wrap\",\n          justifyContent: \"space-between\",\n          px: 3,\n          py: 2.5\n        },\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"overline\",\n          sx: {\n            mr: 2\n          },\n          color: \"textSecondary\",\n          children: \"Party Address\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            alignItems: \"center\",\n            display: \"flex\",\n            m: -1,\n            \"& > button\": {\n              m: 1\n            }\n          },\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            color: \"primary\",\n            type: \"submit\",\n            size: \"small\",\n            variant: \"contained\",\n            children: \"Save changes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: onCancel,\n            size: \"small\",\n            variant: \"outlined\",\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 13\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(Typography, {\n        sx: {\n          my: 3\n        },\n        variant: \"h6\",\n        children: \"Details\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(TextField, {\n        margin: \"normal\",\n        error: Boolean(formik.touched.name && formik.errors.name),\n        fullWidth: true,\n        helperText: formik.touched.name && formik.errors.name,\n        label: \"Name\",\n        name: \"name\",\n        onBlur: formik.handleBlur,\n        onChange: function onChange(event) {\n          formik.setFieldValue(\"name\", event.target.value.replace(/\\w\\S*/g, function (txt) {\n            return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();\n          }));\n        },\n        value: formik.values.name,\n        variant: \"outlined\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(TextField, {\n        error: Boolean(formik.touched.gstin && formik.errors.gstin),\n        fullWidth: true,\n        helperText: formik.touched.gstin && eformik.rrors.gstin,\n        label: \"GSTIN\",\n        name: \"gstin\",\n        onBlur: formik.handleBlur,\n        onChange: formik.handleChange,\n        value: formik.values.gstin,\n        variant: \"outlined\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(TextField, {\n        error: Boolean(formik.touched.pan && formik.errors.pan),\n        fullWidth: true,\n        helperText: formik.touched.pan && eformik.rrors.pan,\n        label: \"PAN\",\n        name: \"pan\",\n        onBlur: formik.handleBlur,\n        onChange: formik.handleChange,\n        value: formik.values.pan,\n        variant: \"outlined\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(TextField, {\n        margin: \"normal\",\n        error: Boolean(formik.touched.billingaddressline1 && formik.errors.billingaddressline1),\n        fullWidth: true,\n        helperText: formik.touched.billingaddressline1 && formik.errors.billingaddressline1,\n        label: \"Billing Address Line 1\",\n        name: \"billingaddressline1\",\n        onBlur: formik.handleBlur,\n        onChange: formik.handleChange,\n        value: formik.values.billingAddressLine1,\n        variant: \"outlined\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(TextField, {\n        margin: \"normal\",\n        error: Boolean(formik.touched.billingaddressline2 && formik.errors.billingaddressline2),\n        fullWidth: true,\n        helperText: formik.touched.billingaddressline2 && formik.errors.billingaddressline2,\n        label: \"Billing Address Line 2\",\n        name: \"billingaddressline2\",\n        onBlur: formik.handleBlur,\n        onChange: formik.handleChange,\n        value: formik.values.billingAddressLine2,\n        variant: \"outlined\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(GoogleMaps, {\n        formik: formik,\n        error: Boolean(formik.touched.city && formik.errors.city),\n        label: \"City\",\n        field: \"city\",\n        setFieldValue: formik.setFieldValue,\n        handleBlur: formik.handleBlur,\n        values: formik.values\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(Box, {\n        mt: 2,\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          style: {\n            marginRight: 10\n          },\n          variant: \"contained\",\n          color: \"secondary\",\n          type: \"submit\",\n          disabled: isSubmitting,\n          children: type === \"new\" ? \"Create Party\" : \"Update Party\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          color: \"primary\",\n          onClick: toggleStatus,\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 9\n      }, _this)]\n    }), void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, _this)\n  }, void 0, false);\n};\n\n_s(PartyAddressForm, \"oKxoX/9nDdIi3ELUwZ92FF8OJKc=\", false, function () {\n  return [useRouter, useDispatch, useAuth, useFormik];\n});\n\n_c = PartyAddressForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"PartyAddressForm\");","map":{"version":3,"sources":["/Users/pulkitshah/Desktop/truckarv2/renderer/components/dashboard/party/party-address-form.js"],"names":["useRouter","toast","Yup","useFormik","Box","Button","TextField","Typography","useAuth","partyApi","useDispatch","GoogleMaps","PartyAddressForm","party","address","toggleStatus","type","router","dispatch","user","formik","initialValues","name","gstin","pan","billingAddressLine1","billingAddressLine2","city","id","submit","onSubmit","values","helpers","createPartyAddress","updatePartyAddress","success","onCancel","console","error","setStatus","setErrors","message","setSubmitting","handleSubmit","props","alignItems","backgroundColor","theme","palette","mode","bpartyRadius","display","flexWrap","justifyContent","px","py","mr","m","my","Boolean","touched","errors","handleBlur","event","setFieldValue","target","value","replace","txt","charAt","toUpperCase","substr","toLowerCase","eformik","rrors","handleChange","billingaddressline1","billingaddressline2","marginRight","isSubmitting"],"mappings":"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","sourcesContent":["import { useRouter } from \"next/router\";\nimport toast from \"react-hot-toast\";\nimport * as Yup from \"yup\";\nimport { useFormik } from \"formik\";\nimport { Box, Button, TextField, Typography } from \"@mui/material\";\nimport { useAuth } from \"../../../hooks/use-auth\";\nimport { partyApi } from \"../../../api/party-api\";\nimport { useDispatch } from \"../../../store\";\nimport GoogleMaps from \"./google-places-autocomplete\";\n\nexport const PartyAddressForm = ({ party, address, toggleStatus, type }) => {\n  const router = useRouter();\n  const dispatch = useDispatch();\n  const { user } = useAuth();\n\n  const formik = useFormik({\n    initialValues: {\n      name: address.name || \"\",\n      gstin: address.gstin || \"\",\n      pan: address.pan || \"\",\n      billingAddressLine1: address.billingAddressLine1 || \"\",\n      billingAddressLine2: address.billingAddressLine2 || \"\",\n      city: address.city || \"\",\n      user: user.id,\n      submit: null,\n    },\n    onSubmit: async (values, helpers) => {\n      try {\n        // NOTE: Make API request\n        type === \"new\"\n          ? await partyApi.createPartyAddress(values, dispatch)\n          : await partyApi.updatePartyAddress(values, dispatch);\n        toggleStatus();\n\n        toast.success(\"Party updated!\");\n        onCancel();\n      } catch (err) {\n        console.error(err);\n        toast.error(\"Something went wrong!\");\n        helpers.setStatus({ success: false });\n        helpers.setErrors({ submit: err.message });\n        helpers.setSubmitting(false);\n      }\n    },\n  });\n\n  return (\n    <>\n      <form onSubmit={formik.handleSubmit} {...props}>\n        <Box\n          sx={{\n            alignItems: \"center\",\n            backgroundColor: (theme) =>\n              theme.palette.mode === \"dark\" ? \"neutral.800\" : \"neutral.100\",\n            bpartyRadius: 1,\n            display: \"flex\",\n            flexWrap: \"wrap\",\n            justifyContent: \"space-between\",\n            px: 3,\n            py: 2.5,\n          }}\n        >\n          <Typography variant=\"overline\" sx={{ mr: 2 }} color=\"textSecondary\">\n            Party Address\n          </Typography>\n          <Box\n            sx={{\n              alignItems: \"center\",\n              display: \"flex\",\n              m: -1,\n              \"& > button\": {\n                m: 1,\n              },\n            }}\n          >\n            <Button\n              color=\"primary\"\n              type=\"submit\"\n              size=\"small\"\n              variant=\"contained\"\n            >\n              Save changes\n            </Button>\n            <Button onClick={onCancel} size=\"small\" variant=\"outlined\">\n              Cancel\n            </Button>\n          </Box>\n        </Box>\n\n        <Typography sx={{ my: 3 }} variant=\"h6\">\n          Details\n        </Typography>\n\n        <TextField\n          margin=\"normal\"\n          error={Boolean(formik.touched.name && formik.errors.name)}\n          fullWidth\n          helperText={formik.touched.name && formik.errors.name}\n          label=\"Name\"\n          name=\"name\"\n          onBlur={formik.handleBlur}\n          onChange={(event) => {\n            formik.setFieldValue(\n              \"name\",\n              event.target.value.replace(/\\w\\S*/g, function (txt) {\n                return (\n                  txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase()\n                );\n              })\n            );\n          }}\n          value={formik.values.name}\n          variant=\"outlined\"\n        />\n        <TextField\n          error={Boolean(formik.touched.gstin && formik.errors.gstin)}\n          fullWidth\n          helperText={formik.touched.gstin && eformik.rrors.gstin}\n          label=\"GSTIN\"\n          name=\"gstin\"\n          onBlur={formik.handleBlur}\n          onChange={formik.handleChange}\n          value={formik.values.gstin}\n          variant=\"outlined\"\n        />\n        <TextField\n          error={Boolean(formik.touched.pan && formik.errors.pan)}\n          fullWidth\n          helperText={formik.touched.pan && eformik.rrors.pan}\n          label=\"PAN\"\n          name=\"pan\"\n          onBlur={formik.handleBlur}\n          onChange={formik.handleChange}\n          value={formik.values.pan}\n          variant=\"outlined\"\n        />\n        <TextField\n          margin=\"normal\"\n          error={Boolean(\n            formik.touched.billingaddressline1 &&\n              formik.errors.billingaddressline1\n          )}\n          fullWidth\n          helperText={\n            formik.touched.billingaddressline1 &&\n            formik.errors.billingaddressline1\n          }\n          label=\"Billing Address Line 1\"\n          name=\"billingaddressline1\"\n          onBlur={formik.handleBlur}\n          onChange={formik.handleChange}\n          value={formik.values.billingAddressLine1}\n          variant=\"outlined\"\n        />\n        <TextField\n          margin=\"normal\"\n          error={Boolean(\n            formik.touched.billingaddressline2 &&\n              formik.errors.billingaddressline2\n          )}\n          fullWidth\n          helperText={\n            formik.touched.billingaddressline2 &&\n            formik.errors.billingaddressline2\n          }\n          label=\"Billing Address Line 2\"\n          name=\"billingaddressline2\"\n          onBlur={formik.handleBlur}\n          onChange={formik.handleChange}\n          value={formik.values.billingAddressLine2}\n          variant=\"outlined\"\n        />\n        <GoogleMaps\n          formik={formik}\n          error={Boolean(formik.touched.city && formik.errors.city)}\n          label={\"City\"}\n          field={\"city\"}\n          setFieldValue={formik.setFieldValue}\n          handleBlur={formik.handleBlur}\n          values={formik.values}\n        />\n        <Box mt={2}>\n          <Button\n            style={{ marginRight: 10 }}\n            variant=\"contained\"\n            color=\"secondary\"\n            type=\"submit\"\n            disabled={isSubmitting}\n          >\n            {type === \"new\" ? \"Create Party\" : \"Update Party\"}\n          </Button>\n\n          <Button variant=\"contained\" color=\"primary\" onClick={toggleStatus}>\n            Cancel\n          </Button>\n        </Box>\n      </form>\n    </>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}